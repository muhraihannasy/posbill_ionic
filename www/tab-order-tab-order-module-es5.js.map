{"version":3,"sources":["webpack:///src/app/tab-order/tab-order.module.ts","webpack:///src/app/tab-order/tab-order-routing.module.ts","webpack:///src/app/tab-order/tab-order.page.html","webpack:///src/app/tab-order/tab-order.page.scss","webpack:///src/app/tab-order/tab-order.page.ts"],"names":["TabOrderPageModule","imports","declarations","routes","path","component","TabOrderPageRoutingModule","forChild","exports","TabOrderPage","storage","http","global","router","loadingController","platform","route","nativePageTransitions","menu","alertController","orderNumberSearch","company","name","activeOutlet","id","orderOffline","showContent","showUser","params","subscribe","source","start_date","parsingDate","getFullYear","getMonth","end_date","getDateOnlyNow","initialize","event","target","complete","ready","then","getObject","data","auth","user","thisUser","level","getOfflineCompany","getOfflineOutlet","totalOrderOffline","length","storageOrder","syncUpOfflineData","storageOutlet","outlet","filter","status","console","log","getActiveOutlet","storageCompany","checkExpiredAccount","expired_at","navigate","toastPresent","reqHeader","Authorization","token","options","headers","post","base_url","setObject","error","close","orderId","order","find","x","offlineIndex","findIndex","y","splice","toastPresentTop","getData","mode","postdata","outlet_id","orderSearch","filterStatus","detail","direction","duration","slowdownfactor","slidePixels","iosdelay","androiddelay","fixedPixelsTop","fixedPixelsBottom","slide","evt","searchTerm","srcElement","value","current","order_number","toLowerCase","indexOf","removeItem","create","cssClass","header","message","buttons","text","role","handler","blah","logout","alert","present","clear","enable","open","selector","template"],"mappings":"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","file":"tab-order-tab-order-module-es5.js","sourcesContent":["import { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TabOrderPage } from './tab-order.page';\r\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\r\n\r\nimport { TabOrderPageRoutingModule } from './tab-order-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    ExploreContainerComponentModule,\r\n    TabOrderPageRoutingModule\r\n  ],\r\n  declarations: [TabOrderPage]\r\n})\r\nexport class TabOrderPageModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { TabOrderPage } from './tab-order.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TabOrderPage,\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class TabOrderPageRoutingModule {}\r\n","export default \"<ion-menu\\r\\n  side=\\\"start\\\"\\r\\n  menuId=\\\"orderleft\\\"\\r\\n  contentId=\\\"orderleft\\\"\\r\\n  mode=\\\"ios\\\"\\r\\n  swipe-gesture=\\\"true\\\"\\r\\n>\\r\\n  <ion-content id=\\\"orderleft\\\">\\r\\n    <div class=\\\"ion-padding\\\">\\r\\n      <ion-text color=\\\"primary\\\">{{company.name}}</ion-text>\\r\\n    </div>\\r\\n    <ion-item button color=\\\"primary\\\" detail=\\\"false\\\">\\r\\n      <ion-icon name=\\\"storefront-outline\\\" size=\\\"small\\\" slot=\\\"start\\\"></ion-icon>\\r\\n      <ion-label>{{activeOutlet.name}}</ion-label>\\r\\n      <ion-note slot=\\\"end\\\">Aktif</ion-note>\\r\\n    </ion-item>\\r\\n    <ion-item-divider>\\r\\n      <small>Daftar outlet</small>\\r\\n    </ion-item-divider>\\r\\n\\r\\n    <ion-item\\r\\n      *ngFor=\\\"let item of outlet\\\"\\r\\n      class=\\\"clickable ion-clickable\\\"\\r\\n      (click)=\\\"changeOutlet(item.outlet)\\\"\\r\\n      button\\r\\n    >\\r\\n      <ion-icon name=\\\"storefront-outline\\\" size=\\\"small\\\" slot=\\\"start\\\"></ion-icon>\\r\\n      <ion-label><small>{{item.outlet.name}}</small></ion-label>\\r\\n    </ion-item>\\r\\n  </ion-content>\\r\\n  <ion-footer mode=\\\"ios\\\" class=\\\"ion-padding\\\" *ngIf=\\\"showContent\\\">\\r\\n    <div class=\\\"ion-text-center\\\" *ngIf=\\\"showUser\\\">{{name}} ({{level}})</div>\\r\\n    <ion-button\\r\\n      size=\\\"small\\\"\\r\\n      color=\\\"danger\\\"\\r\\n      expand=\\\"block\\\"\\r\\n      fill=\\\"link\\\"\\r\\n      (click)=\\\"confirmLogout()\\\"\\r\\n      ><ion-icon name=\\\"power-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n      <ion-text color=\\\"danger\\\">Keluar dari akun</ion-text></ion-button\\r\\n    >\\r\\n  </ion-footer>\\r\\n</ion-menu>\\r\\n\\r\\n<ion-header mode=\\\"ios\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\" style=\\\"margin-top: 10px; margin-left: 15px\\\">\\r\\n      <ion-button size=\\\"small\\\" (click)=\\\"openMenuLeft()\\\"\\r\\n        ><ion-icon name=\\\"storefront-outline\\\"></ion-icon\\r\\n      ></ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-searchbar\\r\\n      style=\\\"margin-top: 10px; margin-left: 5px\\\"\\r\\n      (ionInput)=\\\"filterList($event)\\\"\\r\\n      [(ngModel)]=\\\"orderNumberSearch\\\"\\r\\n      placeholder=\\\"Cari nomor transaksi\\\"\\r\\n    ></ion-searchbar>\\r\\n    <ion-buttons slot=\\\"end\\\" *ngIf=\\\"totalOrderOffline > 0\\\">\\r\\n      <ion-button color=\\\"danger\\\" fill=\\\"link\\\" (click)=\\\"syncUpOfflineData()\\\">\\r\\n        <ion-icon name=\\\"sync-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        <ion-badge color=\\\"danger\\\">{{totalOrderOffline}}</ion-badge></ion-button\\r\\n      >\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"6\\\" size-xs=\\\"6\\\" size-sm=\\\"5\\\">\\r\\n        <ion-item lines=\\\"full\\\">\\r\\n          <ion-label class=\\\"ion-text-wrap\\\"><small>Dari </small></ion-label>\\r\\n          <ion-datetime\\r\\n            style=\\\"font-size: 12px\\\"\\r\\n            displayFormat=\\\"DD-MMM-YYYY\\\"\\r\\n            pickerFormat=\\\"DD-MMM-YYYY\\\"\\r\\n            display-timezone=\\\"Asia/Jakarta\\\"\\r\\n            color=\\\"primary\\\"\\r\\n            [(ngModel)]=\\\"start_date\\\"\\r\\n          ></ion-datetime>\\r\\n        </ion-item>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"6\\\" size-xs=\\\"6\\\" size-sm=\\\"5\\\">\\r\\n        <ion-item lines=\\\"full\\\">\\r\\n          <ion-label class=\\\"ion-text-wrap\\\"><small>Sampai</small></ion-label>\\r\\n          <ion-datetime\\r\\n            style=\\\"font-size: 12px\\\"\\r\\n            displayFormat=\\\"DD-MMM-YYYY\\\"\\r\\n            pickerFormat=\\\"DD-MMM-YYYY\\\"\\r\\n            display-timezone=\\\"Asia/Jakarta\\\"\\r\\n            color=\\\"primary\\\"\\r\\n            [(ngModel)]=\\\"end_date\\\"\\r\\n            min=\\\"{{start_date}}\\\"\\r\\n            (ionChange)=\\\"initialize()\\\"\\r\\n          ></ion-datetime>\\r\\n        </ion-item>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"3\\\"\\r\\n        ><ion-button\\r\\n          size=\\\"small\\\"\\r\\n          expand=\\\"block\\\"\\r\\n          color=\\\"light\\\"\\r\\n          (click)=\\\"filterStatus('All')\\\"\\r\\n          >Semua</ion-button\\r\\n        ></ion-col\\r\\n      >\\r\\n      <ion-col size=\\\"3\\\"\\r\\n        ><ion-button\\r\\n          size=\\\"small\\\"\\r\\n          expand=\\\"block\\\"\\r\\n          color=\\\"success\\\"\\r\\n          (click)=\\\"filterStatus('Completed')\\\"\\r\\n          >Lunas</ion-button\\r\\n        ></ion-col\\r\\n      >\\r\\n      <ion-col size=\\\"3\\\"\\r\\n        ><ion-button\\r\\n          size=\\\"small\\\"\\r\\n          expand=\\\"block\\\"\\r\\n          color=\\\"warning\\\"\\r\\n          (click)=\\\"filterStatus('Pending')\\\"\\r\\n          >Belum lunas</ion-button\\r\\n        ></ion-col\\r\\n      >\\r\\n      <ion-col size=\\\"3\\\"\\r\\n        ><ion-button\\r\\n          size=\\\"small\\\"\\r\\n          expand=\\\"block\\\"\\r\\n          color=\\\"danger\\\"\\r\\n          (click)=\\\"filterStatus('Canceled')\\\"\\r\\n          >Dibatalkan</ion-button\\r\\n        ></ion-col\\r\\n      >\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content mode=\\\"ios\\\">\\r\\n  <div style=\\\"margin-top: 200px; text-align: center\\\" *ngIf=\\\"!showContent\\\">\\r\\n    <ion-spinner name=\\\"crescent\\\"></ion-spinner>\\r\\n  </div>\\r\\n\\r\\n  <ion-list *ngIf=\\\"showContent\\\">\\r\\n    <div\\r\\n      *ngIf=\\\"orderSearch.length == 0\\\"\\r\\n      style=\\\"text-align: center; font-size: 1em; margin-top: 5em\\\"\\r\\n    >\\r\\n      Data Tidak Ada\\r\\n    </div>\\r\\n    <ion-item *ngFor=\\\"let item of orderSearch\\\" (click)=\\\"detail(item.id)\\\" button>\\r\\n      <ion-icon\\r\\n        name=\\\"{{labelStatusIcon(item.status)}}\\\"\\r\\n        color=\\\"{{labelStatusColor(item.status)}}\\\"\\r\\n        slot=\\\"start\\\"\\r\\n      ></ion-icon>\\r\\n      <ion-label\\r\\n        ><small\\r\\n          ><ion-text color=\\\"primary\\\">TRX-{{item.order_number}}</ion-text>\\r\\n          <br />\\r\\n          {{item.order_time}}</small\\r\\n        >\\r\\n      </ion-label>\\r\\n\\r\\n      <ion-note slot=\\\"end\\\"\\r\\n        ><ion-icon\\r\\n          name=\\\"alert-circle-outline\\\"\\r\\n          color=\\\"danger\\\"\\r\\n          *ngIf=\\\"checkThisOrderSync(item.id)\\\"\\r\\n        ></ion-icon\\r\\n        >&nbsp;<small>{{global.currency(item.total)}}</small>\\r\\n      </ion-note>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n</ion-content>\\r\\n\";","export default \".clickable {\\n  pointer-events: auto !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXHRhYi1vcmRlci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDQSwrQkFBQTtBQUNBIiwiZmlsZSI6InRhYi1vcmRlci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2xpY2thYmxlIHtcclxucG9pbnRlci1ldmVudHM6IGF1dG8gIWltcG9ydGFudDtcclxufVxyXG4iXX0= */\";","import { Component } from \"@angular/core\";\r\n\r\nimport { StorageService } from \"../storage.service\";\r\nimport {\r\n  HttpClient,\r\n  HttpHeaders,\r\n  HttpErrorResponse,\r\n} from \"@angular/common/http\";\r\nimport { GlobalService } from \"../global.service\";\r\nimport { Router } from \"@angular/router\";\r\nimport {\r\n  LoadingController,\r\n  Platform,\r\n  MenuController,\r\n  AlertController,\r\n} from \"@ionic/angular\";\r\n\r\nimport { ActivatedRoute } from \"@angular/router\";\r\n\r\nimport {\r\n  NativePageTransitions,\r\n  NativeTransitionOptions,\r\n} from \"@ionic-native/native-page-transitions/ngx\";\r\n\r\n@Component({\r\n  selector: \"app-tab-order\",\r\n  templateUrl: \"tab-order.page.html\",\r\n  styleUrls: [\"tab-order.page.scss\"],\r\n})\r\nexport class TabOrderPage {\r\n  auth: any;\r\n  user: any;\r\n  name: any;\r\n  level: any;\r\n\r\n  orderNumberSearch: any = \"\";\r\n  order: any;\r\n  storageOrder: any;\r\n  orderSearch: any;\r\n  outlet: any;\r\n  storageOutlet: any;\r\n\r\n  company: any = { name: \"\" };\r\n  storageCompany: any;\r\n\r\n  activeOutlet: any = { id: \"\", name: \"\" };\r\n  orderOffline: any = [];\r\n  totalOrderOffline: any;\r\n\r\n  start_date: any;\r\n  end_date: any;\r\n\r\n  showContent: any = false;\r\n  showUser: any = false;\r\n\r\n  source: any;\r\n  id: any;\r\n\r\n  constructor(\r\n    private storage: StorageService,\r\n    private http: HttpClient,\r\n    public global: GlobalService,\r\n    private router: Router,\r\n    private loadingController: LoadingController,\r\n    private platform: Platform,\r\n    private route: ActivatedRoute,\r\n    private nativePageTransitions: NativePageTransitions,\r\n    private menu: MenuController,\r\n    private alertController: AlertController\r\n  ) {\r\n    this.route.params.subscribe((params: any) => {\r\n      if (params[\"source\"]) {\r\n        this.source = params[\"source\"];\r\n      }\r\n      if (params[\"id\"]) {\r\n        this.id = params[\"id\"];\r\n      }\r\n    });\r\n    this.start_date = this.global.parsingDate(\r\n      this.global.getFullYear() + \"-\" + this.global.getMonth() + \"-01\"\r\n    );\r\n    this.end_date = this.global.getDateOnlyNow();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.initialize();\r\n  }\r\n\r\n  doRefresh(event) {\r\n    this.initialize();\r\n    event.target.complete();\r\n  }\r\n\r\n  initialize() {\r\n    this.showContent = false;\r\n    this.platform.ready().then(() => {\r\n      this.storage.getObject(\"auth\").then((data: any) => {\r\n        this.auth = data;\r\n        this.storage.getObject(\"user\").then((user) => {\r\n          let thisUser: any = user;\r\n          this.user = user;\r\n          this.name = thisUser.name;\r\n          this.level = thisUser.level;\r\n          this.showUser = true;\r\n        });\r\n      });\r\n\r\n      this.getOfflineCompany();\r\n      this.getOfflineOutlet();\r\n\r\n      this.storage.getObject(\"order_offline\").then((data: any) => {\r\n        if (data != null) {\r\n          this.orderOffline = data;\r\n          this.totalOrderOffline = this.orderOffline.length;\r\n        }\r\n\r\n        this.storage.getObject(\"order\").then((data: any) => {\r\n          if (data != null) {\r\n            this.storageOrder = data;\r\n\r\n            this.syncUpOfflineData();\r\n          } else {\r\n            this.syncUpOfflineData();\r\n          }\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  getOfflineOutlet() {\r\n    this.storage.getObject(\"outlet\").then((data: any) => {\r\n      if (data != null) {\r\n        this.storageOutlet = data;\r\n        this.outlet = this.storageOutlet.filter(\r\n          (outlet) => outlet.outlet.status === \"Active\"\r\n        );\r\n      }\r\n      console.log(\"Offline outlet\", data);\r\n\r\n      this.getActiveOutlet();\r\n    });\r\n  }\r\n\r\n  getOfflineCompany() {\r\n    this.storage.getObject(\"company\").then((data: any) => {\r\n      if (data != null) {\r\n        this.storageCompany = data;\r\n        this.company = this.storageCompany;\r\n        this.checkExpiredAccount();\r\n      }\r\n      console.log(data);\r\n    });\r\n  }\r\n\r\n  checkExpiredAccount() {\r\n    if (this.company.package == \"Premium\") {\r\n      this.storage.getObject(\"user\").then((data: any) => {\r\n        if (data != null) {\r\n          this.user = data.user;\r\n          console.log(\"exp \" + this.activeOutlet.expired_at);\r\n\r\n          if (this.activeOutlet.expired_at < this.global.getDateOnlyNow()) {\r\n            console.log(\"expired\");\r\n\r\n            if (data.level == \"Owner\") {\r\n              this.router.navigate([\"/outlet\"]);\r\n              this.global.toastPresent(\r\n                \"masa berlaku paket sudah habis, silahkan lakukan pembelian paket berlangganan!\"\r\n              );\r\n            } else {\r\n              this.router.navigate([\"/inactive\"]);\r\n            }\r\n          }\r\n        }\r\n        console.log(data);\r\n      });\r\n    } else if (this.company.package == \"Lite\") {\r\n      console.log(\"Lite\");\r\n    }\r\n  }\r\n\r\n  getDataOutlet() {\r\n    var reqHeader = new HttpHeaders({\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: \"Bearer \" + this.auth.token,\r\n    });\r\n\r\n    let options = { headers: reqHeader };\r\n    this.http\r\n      .post(this.global.base_url + \"auth/outlet/list/active\", null, options)\r\n      .subscribe(\r\n        (data: any) => {\r\n          console.log(data);\r\n\r\n          if (data.status == 0) {\r\n            this.storage.setObject(\"outlet\", data.outlet);\r\n            this.outlet = data.outlet.filter(\r\n              (outlet) => outlet.outlet.status === \"Active\"\r\n            );\r\n            this.getActiveOutlet();\r\n\r\n            console.log(data);\r\n          } else {\r\n            console.log(data);\r\n          }\r\n\r\n          this.showContent = true;\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n  }\r\n\r\n  getActiveOutlet() {\r\n    this.storage.getObject(\"outlet_active\").then((data) => {\r\n      if (data != null) {\r\n        this.activeOutlet = data;\r\n        console.log(\"A\", data);\r\n      } else {\r\n        this.activeOutlet = this.outlet[0].outlet;\r\n        this.storage.setObject(\"outlet_active\", this.activeOutlet);\r\n        console.log(\"B\", data);\r\n      }\r\n    });\r\n  }\r\n\r\n  changeOutlet(outlet) {\r\n    this.activeOutlet = outlet;\r\n    this.storage.setObject(\"outlet_active\", this.activeOutlet);\r\n    this.global.toastPresent(\r\n      \"Outlet <strong>\" + outlet.name + \"</strong> aktif!\"\r\n    );\r\n    this.initialize();\r\n    this.menu.close(\"orderleft\");\r\n  }\r\n\r\n  syncUpOfflineData() {\r\n    this.showContent = false;\r\n    console.log(\"total offline\", this.orderOffline.length);\r\n    if (this.orderOffline.length > 0) {\r\n      for (let orderId of this.orderOffline) {\r\n        var order = this.storageOrder.find((x) => x.id === orderId);\r\n\r\n        var reqHeader = new HttpHeaders({\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + this.auth.token,\r\n        });\r\n\r\n        let options = { headers: reqHeader };\r\n        this.http\r\n          .post(this.global.base_url + \"auth/order/store\", order, options)\r\n          .subscribe(\r\n            (data: any) => {\r\n              console.log(data);\r\n\r\n              if (data.status == 0) {\r\n                var offlineIndex = this.orderOffline.findIndex(\r\n                  (y) => y === orderId\r\n                );\r\n\r\n                this.orderOffline.splice(offlineIndex, 1);\r\n                this.totalOrderOffline = this.orderOffline.length;\r\n                this.storage.setObject(\"order_offline\", this.orderOffline);\r\n\r\n                if (this.orderOffline.length == 0) {\r\n                  this.global.toastPresentTop(\r\n                    \"Semua data transaksi berhasil disinkronisasi!\",\r\n                    \"success\"\r\n                  );\r\n                  this.getData(\"online\");\r\n                }\r\n\r\n                console.log(data);\r\n              } else {\r\n                console.log(data);\r\n              }\r\n            },\r\n            (error) => {\r\n              console.log(error);\r\n              this.global.toastPresentTop(\r\n                '<ion-icon name=\"sync-outline\" color=\"light\"></ion-icon> ' +\r\n                  this.orderOffline.length +\r\n                  \" transaksi belum disinkronisasi!\",\r\n                \"danger\"\r\n              );\r\n              this.getData(\"offline\");\r\n            }\r\n          );\r\n      }\r\n    } else {\r\n      this.getData(\"online\");\r\n    }\r\n  }\r\n\r\n  checkThisOrderSync(id) {\r\n    var offlineIndex = this.orderOffline.findIndex((y) => y === id);\r\n    if (offlineIndex > -1) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  getData(mode) {\r\n    if (mode == \"online\") {\r\n      this.storage.getObject(\"auth\").then((auth) => {\r\n        var reqHeader = new HttpHeaders({\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + this.auth.token,\r\n        });\r\n\r\n        let options = { headers: reqHeader };\r\n\r\n        let postdata = {\r\n          outlet_id: this.activeOutlet.id,\r\n          start_date: this.global.parsingDate(this.start_date),\r\n          end_date: this.global.parsingDate(this.end_date),\r\n        };\r\n\r\n        this.http\r\n          .post(\r\n            this.global.base_url + \"auth/order/last_per_outlet\",\r\n            postdata,\r\n            options\r\n          )\r\n          .subscribe(\r\n            (data: any) => {\r\n              if (data.status == 0) {\r\n                this.order = data.order;\r\n                this.orderSearch = this.order;\r\n                this.storage.getObject(\"filterBy\").then((status) => {\r\n                  this.filterStatus(status ?? \"All\");\r\n                });\r\n\r\n                this.storage.setObject(\"order\", this.order);\r\n\r\n                if (this.source == \"notification\") {\r\n                  this.detail(this.id);\r\n                }\r\n\r\n                console.log(data);\r\n              } else {\r\n                console.log(data);\r\n              }\r\n\r\n              this.showContent = true;\r\n            },\r\n            (error) => {\r\n              console.log(error);\r\n              this.order = this.storageOrder;\r\n              this.orderSearch = this.order;\r\n              this.showContent = true;\r\n            }\r\n          );\r\n      });\r\n    } else {\r\n      this.order = this.storageOrder;\r\n      this.orderSearch = this.order;\r\n      this.showContent = true;\r\n    }\r\n  }\r\n\r\n  detail(id) {\r\n    let options: NativeTransitionOptions = {\r\n      direction: \"left\",\r\n      duration: 300,\r\n      slowdownfactor: 0,\r\n      slidePixels: 0,\r\n      iosdelay: 0,\r\n      androiddelay: 0,\r\n      fixedPixelsTop: 0,\r\n      fixedPixelsBottom: 0,\r\n    };\r\n\r\n    this.nativePageTransitions.slide(options);\r\n\r\n    this.router.navigate([\"/orders-detail/\" + id + \"/list\"]);\r\n  }\r\n\r\n  async filterList(evt) {\r\n    this.orderSearch = this.order;\r\n\r\n    const searchTerm = evt.srcElement.value;\r\n\r\n    if (!searchTerm) {\r\n      return;\r\n    }\r\n\r\n    this.orderSearch = this.orderSearch.filter((current) => {\r\n      if (current.order_number && searchTerm) {\r\n        return (\r\n          current.order_number.toLowerCase().indexOf(searchTerm.toLowerCase()) >\r\n          -1\r\n        );\r\n      }\r\n    });\r\n\r\n    console.log(this.orderSearch);\r\n  }\r\n\r\n  filterStatus(status) {\r\n    this.orderNumberSearch = \"\";\r\n\r\n    this.storage.removeItem(\"filterBy\");\r\n\r\n    if (status == \"All\") {\r\n      this.orderSearch = this.order;\r\n    } else {\r\n      this.orderSearch = this.order;\r\n      this.orderSearch = this.orderSearch.filter(\r\n        (order) => order.status === status\r\n      );\r\n    }\r\n\r\n    console.log(\"Filter Status\", this.orderSearch);\r\n  }\r\n\r\n  async confirmLogout() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: \"my-custom-class\",\r\n      header: \"Konfirmasi\",\r\n      message:\r\n        'Yakin untuk keluar dari akun Anda?   <br/> <br/> Perhatian : <br/> <span style=\"color:red\">harap lakukan sinkronisasi data order terlebih dahulu, data offline akan dihapus saat Anda keluar akun!</span>',\r\n      buttons: [\r\n        {\r\n          text: \"Sinkronkan data!\",\r\n          role: \"cancel\",\r\n          cssClass: \"secondary\",\r\n          handler: (blah) => {\r\n            this.router.navigate([\"/tabs/tab-order\"]);\r\n          },\r\n        },\r\n        {\r\n          text: \"Keluar\",\r\n          handler: () => {\r\n            this.logout();\r\n            console.log(\"Confirm logout\");\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n  logout() {\r\n    this.storage.clear();\r\n    this.router.navigate([\"/login\"]);\r\n  }\r\n\r\n  openMenuLeft() {\r\n    this.menu.enable(true, \"orderleft\");\r\n    this.menu.open(\"orderleft\");\r\n  }\r\n\r\n  labelStatusIcon(status) {\r\n    if (status == \"Pending\") {\r\n      return \"alert-circle-outline\";\r\n    } else if (status == \"Completed\") {\r\n      return \"checkmark-circle-outline\";\r\n    } else if (status == \"Canceled\") {\r\n      return \"close-circle-outline\";\r\n    }\r\n  }\r\n\r\n  labelStatusColor(status) {\r\n    if (status == \"Pending\") {\r\n      return \"warning\";\r\n    } else if (status == \"Completed\") {\r\n      return \"success\";\r\n    } else if (status == \"Canceled\") {\r\n      return \"danger\";\r\n    }\r\n  }\r\n\r\n  ionViewWillLeave() {}\r\n}\r\n"]}