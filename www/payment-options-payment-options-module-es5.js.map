{"version":3,"sources":["webpack:///src/app/payment-options/payment-options.page.html","webpack:///src/app/payment-options/payment-options.page.scss","webpack:///src/app/payment-options/payment-options.page.ts","webpack:///src/app/payment-options/payment-options.module.ts","webpack:///src/app/payment-options/payment-options-routing.module.ts"],"names":["PaymentOptionsPage","storage","http","global","router","loadingController","platform","nativePageTransitions","alertController","company","payment_cash","discount","id","name","amount","type","paymentNote","orderType","orderTypeLabel","customer","phone","paymentMethod","paymentMethodChannel","amountReceived","amountChange","backButtonText","backButtonIcon","cash","order","storageOrder","booking","ready","then","getObject","auth","data","console","log","cart","totalAmount","subtotal","totalQty","qty","order_type","order_type_label","subtotalAfterDiscount","parseInt","serviceCharge","service_charge","tax","selectcashless","total","parseFloat","amountReceivedChange","status","outlet","activeOutlet","user","activeUser","processOrder","toastPresent","loadingPresent","payment","method","setObject","order_id","order_number","seq","getYear","getMonth","getDate","getMathRandom","order_item","item","price","product","tempItem","order_time","getDateNow","product_id","cost","note","push","statusOrder","booking_id","outlet_id","customer_name","customer_phone","customer_id","user_id","cash_collected","payment_method","payment_channel","payment_note","unshift","bookIndex","findIndex","x","splice","bookingOffline","bookOfflineIndex","reqHeader","Authorization","token","options","headers","post","base_url","subscribe","navigate","loadingDismiss","error","tempOrderOffline","channel","create","cssClass","header","inputs","placeholder","buttons","text","role","handler","alert","present","value","message","blah","process","direction","duration","slowdownfactor","slidePixels","iosdelay","androiddelay","fixedPixelsTop","fixedPixelsBottom","slide","selector","template","PaymentOptionsPageModule","imports","declarations","routes","path","component","PaymentOptionsPageRoutingModule","forChild","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;ACAf;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCuBFA,kBAAkB;AAwC7B,oCACUC,OADV,EAEUC,IAFV,EAGSC,MAHT,EAIUC,MAJV,EAKUC,iBALV,EAMUC,QANV,EAOUC,qBAPV,EAQUC,eARV,EAQ0C;AAAA;;AAPhC,eAAAP,OAAA,GAAAA,OAAA;AACA,eAAAC,IAAA,GAAAA,IAAA;AACD,eAAAC,MAAA,GAAAA,MAAA;AACC,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,iBAAA,GAAAA,iBAAA;AACA,eAAAC,QAAA,GAAAA,QAAA;AACA,eAAAC,qBAAA,GAAAA,qBAAA;AACA,eAAAC,eAAA,GAAAA,eAAA;AA9CV,eAAAC,OAAA,GAAe;AAAEC,wBAAY,EAAE;AAAhB,WAAf;AAUA,eAAAC,QAAA,GAAgB;AAAEC,cAAE,EAAE,EAAN;AAAUC,gBAAI,EAAE,EAAhB;AAAoBC,kBAAM,EAAE,CAA5B;AAA+BC,gBAAI,EAAE;AAArC,WAAhB;AAKA,eAAAC,WAAA,GAAmB,EAAnB;AAEA,eAAAC,SAAA,GAAiB,MAAjB;AACA,eAAAC,cAAA,GAAsB,MAAtB;AAEA,eAAAC,QAAA,GAAgB;AAAEP,cAAE,EAAE,SAAN;AAAiBC,gBAAI,EAAE,SAAvB;AAAkCO,iBAAK,EAAE;AAAzC,WAAhB;AAEA,eAAAC,aAAA,GAAqB,MAArB;AACA,eAAAC,oBAAA,GAA4B,MAA5B;AACA,eAAAC,cAAA,GAAsB,EAAtB;AACA,eAAAC,YAAA,GAAoB,CAApB;AAEA,eAAAC,cAAA,GAAsB,SAAtB;AACA,eAAAC,cAAA,GAAsB,oBAAtB;AAEA,eAAAC,IAAA,GAAY,IAAZ,CAgB0C,CAd1C;;AACA,eAAAC,KAAA,GAAa,EAAb;AACA,eAAAC,YAAA,GAAoB,EAApB;AAEA,eAAAC,OAAA,GAAe;AAAElB,cAAE,EAAE;AAAN,WAAf;AAWI;;AAjDyB;AAAA;AAAA,iBAmD7B,oBAAW,CAAE;AAnDgB;AAAA;AAAA,iBAqD7B,4BAAmB;AAAA;;AACjB,iBAAKN,QAAL,CAAcyB,KAAd,GAAsBC,IAAtB,CAA2B,YAAM;AAC/B,mBAAI,CAACF,OAAL,GAAe;AAAElB,kBAAE,EAAE;AAAN,eAAf;;AACA,mBAAI,CAACX,OAAL,CAAagC,SAAb,CAAuB,MAAvB,EAA+BD,IAA/B,CAAoC,UAACE,IAAD,EAAU;AAC5C,qBAAI,CAACA,IAAL,GAAYA,IAAZ;AACD,eAFD;;AAIA,mBAAI,CAACjC,OAAL,CAAagC,SAAb,CAAuB,aAAvB,EAAsCD,IAAtC,CAA2C,UAACG,IAAD,EAAe;AACxD,oBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,uBAAI,CAACL,OAAL,GAAeK,IAAf;AACD;AACF,eAJD;;AAMA,mBAAI,CAAClC,OAAL,CAAagC,SAAb,CAAuB,cAAvB,EAAuCD,IAAvC,CAA4C,UAACG,IAAD,EAAe;AACzD,oBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,uBAAI,CAAChB,QAAL,GAAgBgB,IAAhB;AACAC,yBAAO,CAACC,GAAR,CAAYF,IAAZ;AACD;AACF,eALD;;AAOA,mBAAI,CAAClC,OAAL,CAAagC,SAAb,CAAuB,UAAvB,EAAmCD,IAAnC,CAAwC,UAACG,IAAD,EAAe;AACrD,oBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,uBAAI,CAACG,IAAL,GAAYH,IAAZ;AACD;AACF,eAJD;;AAMA,mBAAI,CAAClC,OAAL,CAAagC,SAAb,CAAuB,cAAvB,EAAuCD,IAAvC,CAA4C,UAACG,IAAD,EAAe;AACzD,qBAAI,CAACI,WAAL,GAAmBJ,IAAI,CAACrB,MAAxB;AAEA,qBAAI,CAAC0B,QAAL,GAAgB,KAAI,CAACD,WAArB;AACA,qBAAI,CAACE,QAAL,GAAgBN,IAAI,CAACO,GAArB;AACAN,uBAAO,CAACC,GAAR,CAAYF,IAAZ;AACD,eAND;;AAQA,mBAAI,CAAClC,OAAL,CAAagC,SAAb,CAAuB,gBAAvB,EAAyCD,IAAzC,CAA8C,UAACG,IAAD,EAAe;AAC3D,qBAAI,CAAClB,SAAL,GAAiBkB,IAAI,CAACQ,UAAtB;AACA,qBAAI,CAACzB,cAAL,GAAsBiB,IAAI,CAACS,gBAA3B;AACD,eAHD;;AAKA,mBAAI,CAAC3C,OAAL,CAAagC,SAAb,CAAuB,cAAvB,EAAuCD,IAAvC,CAA4C,UAACG,IAAD,EAAe;AACzD,oBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,uBAAI,CAACxB,QAAL,GAAgBwB,IAAhB;;AACA,sBAAIA,IAAI,CAACpB,IAAL,IAAa,YAAjB,EAA+B;AAC7B,yBAAI,CAACJ,QAAL,CAAcG,MAAd,GAAwB,KAAI,CAAC0B,QAAL,GAAgBL,IAAI,CAACrB,MAAtB,GAAgC,GAAvD;AACA,yBAAI,CAAC+B,qBAAL,GACEC,QAAQ,CAAC,KAAI,CAACN,QAAN,CAAR,GAA0BM,QAAQ,CAAC,KAAI,CAACnC,QAAL,CAAcG,MAAf,CADpC;AAED,mBAJD,MAIO;AACL,yBAAI,CAACH,QAAL,CAAcG,MAAd,GAAuBqB,IAAI,CAACrB,MAA5B;AACA,yBAAI,CAAC+B,qBAAL,GACEC,QAAQ,CAAC,KAAI,CAACN,QAAN,CAAR,GAA0BM,QAAQ,CAAC,KAAI,CAACnC,QAAL,CAAcG,MAAf,CADpC;AAED;AACF,iBAXD,MAWO;AACL,uBAAI,CAAC+B,qBAAL,GACEC,QAAQ,CAAC,KAAI,CAACN,QAAN,CAAR,GAA0BM,QAAQ,CAAC,KAAI,CAACnC,QAAL,CAAcG,MAAf,CADpC;AAED;;AAED,qBAAI,CAACb,OAAL,CAAagC,SAAb,CAAuB,SAAvB,EAAkCD,IAAlC,CAAuC,UAACG,IAAD,EAAe;AACpD,sBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,yBAAI,CAAC1B,OAAL,GAAe0B,IAAf;AACA,yBAAI,CAACY,aAAL,GACG,KAAI,CAACF,qBAAL,GAA6BV,IAAI,CAACa,cAAnC,GAAqD,GADvD;AAEA,yBAAI,CAACC,GAAL,GAAY,KAAI,CAACJ,qBAAL,GAA6BV,IAAI,CAACc,GAAnC,GAA0C,GAArD;;AAEA,wBAAId,IAAI,CAACzB,YAAL,IAAqB,CAAzB,EAA4B;AAC1B,2BAAI,CAACiB,IAAL,IAAa,KAAb;;AACA,2BAAI,CAACuB,cAAL;AACD;AACF;;AAED,uBAAI,CAACC,KAAL,GACE,KAAI,CAACN,qBAAL,GAA6B,KAAI,CAACE,aAAlC,GAAkD,KAAI,CAACE,GADzD;AAED,iBAfD;AAgBD,eAjCD;AAkCD,aAxED,EADiB,CA0EjB;AACD;AAhI4B;AAAA;AAAA,iBAkI7B,sBAAa;AACX,iBAAKtB,IAAL,GAAY,IAAZ;AACA,iBAAKN,aAAL,GAAqB,MAArB;AACA,iBAAKC,oBAAL,GAA4B,MAA5B;AACD;AAtI4B;AAAA;AAAA,iBAwI7B,0BAAiB;AACf,iBAAKK,IAAL,GAAY,KAAZ;AACA,iBAAKN,aAAL,GAAqB,UAArB;AACA,iBAAKC,oBAAL,GAA4B,EAA5B;AACA,iBAAKC,cAAL,GAAsB,KAAK4B,KAA3B;AACD;AA7I4B;AAAA;AAAA,iBA+I7B,wBAAerC,MAAf,EAAuB;AACrB,iBAAKS,cAAL,GAAsB6B,UAAU,CAACtC,MAAD,CAAhC;AACA,iBAAKuC,oBAAL;AACD;AAlJ4B;AAAA;AAAA,iBAoJ7B,gCAAuB;AACrB,iBAAK9B,cAAL,GAAsB6B,UAAU,CAAC,KAAK7B,cAAN,CAAhC;AACA,iBAAKC,YAAL,GAAoB,KAAKD,cAAL,GAAsB,KAAKgB,WAA/C;AACD;AAvJ4B;AAAA;AAAA,iBAyJ7B,4BAAmBzB,MAAnB,EAA2B;AACzB,gBAAIsC,UAAU,CAAC,KAAK7B,cAAN,CAAV,IAAmCT,MAAvC,EAA+C;AAC7C,qBAAO,SAAP;AACD,aAFD,MAEO;AACL,qBAAO,OAAP;AACD;AACF;AA/J4B;AAAA;AAAA,iBAiK7B,iBAAQwC,MAAR,EAAgB;AAAA;;AACd,iBAAKrD,OAAL,CAAagC,SAAb,CAAuB,OAAvB,EAAgCD,IAAhC,CAAqC,UAACG,IAAD,EAAe;AAClD,kBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,sBAAI,CAACN,YAAL,GAAoBM,IAApB;AACA,sBAAI,CAACP,KAAL,GAAa,MAAI,CAACC,YAAlB;AACD;;AACD,oBAAI,CAAC5B,OAAL,CAAagC,SAAb,CAAuB,eAAvB,EAAwCD,IAAxC,CAA6C,UAACuB,MAAD,EAAiB;AAC5D,sBAAI,CAACC,YAAL,GAAoBD,MAApB;;AACA,sBAAI,CAACtD,OAAL,CAAagC,SAAb,CAAuB,MAAvB,EAA+BD,IAA/B,CAAoC,UAACyB,IAAD,EAAe;AACjD,wBAAI,CAACC,UAAL,GAAkBD,IAAlB;;AAEA,wBAAI,CAACE,YAAL,CAAkBL,MAAlB;AACD,iBAJD;AAKD,eAPD;AAQD,aAbD;AAcD;AAhL4B;AAAA;AAAA,iBAkL7B,sBAAaA,MAAb,EAAqB;AAAA;;AACnB,gBAAIA,MAAM,IAAI,WAAd,EAA2B;AACzB,kBAAI,KAAKhC,oBAAL,IAA6B,EAAjC,EAAqC;AACnC,qBAAKnB,MAAL,CAAYyD,YAAZ,CAAyB,oCAAzB;AACA,uBAAO,KAAP;AACD;;AAED,kBAAI,KAAKvC,aAAL,IAAsB,MAA1B,EAAkC;AAChC,oBAAI,KAAKE,cAAL,GAAsB,KAAK4B,KAA/B,EAAsC;AACpC,uBAAKhD,MAAL,CAAYyD,YAAZ,CACE,uDADF;AAGA,yBAAO,KAAP;AACD;AACF,eAPD,MAOO;AACL,qBAAKrC,cAAL,GAAsB,KAAK4B,KAA3B;AACD;AACF;;AAED,iBAAKhD,MAAL,CAAY0D,cAAZ,CAA2B,oBAA3B;;AAEA,gBAAIP,MAAM,IAAI,SAAd,EAAyB;AACvB,mBAAK/B,cAAL,GAAsB,CAAtB;AACA,mBAAKC,YAAL,GAAoB,CAApB;AAEA,kBAAIsC,OAAO,GAAG;AACZC,sBAAM,EAAE,KAAK1C,aADD;AAEZE,8BAAc,EAAE,KAAKA,cAFT;AAGZC,4BAAY,EAAE,KAAKA;AAHP,eAAd;AAKD,aATD,MASO;AACL,kBAAIsC,OAAO,GAAG;AACZC,sBAAM,EAAE,KAAK1C,aADD;AAEZE,8BAAc,EAAE,KAAKA,cAFT;AAGZC,4BAAY,EAAE,KAAKA;AAHP,eAAd;AAKD;;AAED,iBAAKvB,OAAL,CAAa+D,SAAb,CAAuB,aAAvB,EAAsCF,OAAtC;AAEA,gBAAIG,QAAQ,GAAG,kDAAf;AACA,gBAAIC,YAAY,GACd,KAAKzD,OAAL,CAAa0D,GAAb,GACA,KAAKhE,MAAL,CAAYiE,OAAZ,EADA,GAEA,KAAKjE,MAAL,CAAYkE,QAAZ,EAFA,GAGA,KAAKlE,MAAL,CAAYmE,OAAZ,EAHA,GAIA,KAAKnE,MAAL,CAAYoE,aAAZ,EALF;AAOA,gBAAIC,UAAU,GAAG,EAAjB;;AAhDmB,uDAiDF,KAAKlC,IAjDH;AAAA;;AAAA;AAiDnB,kEAA4B;AAAA,oBAAnBmC,IAAmB;AAC1B,oBAAIjC,QAAQ,GAAGiC,IAAI,CAACC,KAAL,GAAaD,IAAI,CAAC/B,GAAjC;AACA,oBAAIiC,OAAO,GAAG;AAAE/D,oBAAE,EAAE6D,IAAI,CAAC7D,EAAX;AAAeC,sBAAI,EAAE4D,IAAI,CAAC5D;AAA1B,iBAAd;AACA,oBAAI+D,QAAQ,GAAG;AACbhE,oBAAE,EAAE,kDADS;AAEbqD,0BAAQ,EAAEA,QAFG;AAGbC,8BAAY,EAAEA,YAHD;AAIbW,4BAAU,EAAE,KAAK1E,MAAL,CAAY2E,UAAZ,EAJC;AAKbC,4BAAU,EAAEN,IAAI,CAAC7D,EALJ;AAMbC,sBAAI,EAAE4D,IAAI,CAAC5D,IANE;AAObmE,sBAAI,EAAEP,IAAI,CAACO,IAPE;AAQbN,uBAAK,EAAED,IAAI,CAACC,KARC;AASbhC,qBAAG,EAAE+B,IAAI,CAAC/B,GATG;AAUbuC,sBAAI,EAAER,IAAI,CAACQ,IAVE;AAWbzC,0BAAQ,EAAEA,QAXG;AAYbc,wBAAM,EAAE,WAZK;AAabqB,yBAAO,EAAEA;AAbI,iBAAf;AAeAH,0BAAU,CAACU,IAAX,CAAgBN,QAAhB;AACD;AApEkB;AAAA;AAAA;AAAA;AAAA;;AAsEnB,gBAAIO,WAAW,GAAQ,EAAvB;;AAEA,gBAAI,KAAK7D,oBAAL,IAA6B,aAAjC,EAAgD;AAC9C6D,yBAAW,GAAG,SAAd;AACD,aAFD,MAEO;AACLA,yBAAW,GAAG7B,MAAd;AACD;;AAED,gBAAI1B,KAAK,GAAQ;AACfhB,gBAAE,EAAEqD,QADW;AAEfmB,wBAAU,EAAE,KAAKtD,OAAL,CAAasD,UAFV;AAGflB,0BAAY,EAAEA,YAHC;AAIfW,wBAAU,EAAE,KAAK1E,MAAL,CAAY2E,UAAZ,EAJG;AAKfO,uBAAS,EAAE,KAAK7B,YAAL,CAAkB5C,EALd;AAMfO,sBAAQ,EAAE;AAAEP,kBAAE,EAAE,KAAKO,QAAL,CAAcP,EAApB;AAAwBC,oBAAI,EAAE,KAAKM,QAAL,CAAcN;AAA5C,eANK;AAOfyE,2BAAa,EAAE,KAAKnE,QAAL,CAAcN,IAPd;AAQf0E,4BAAc,EAAE,KAAKpE,QAAL,CAAcC,KARf;AASfoE,yBAAW,EAAE,KAAKrE,QAAL,CAAcP,EATZ;AAUf6E,qBAAO,EAAE,KAAK/B,UAAL,CAAgB9C,EAVV;AAWf4B,sBAAQ,EAAE,KAAKA,QAXA;AAYf7B,sBAAQ,EAAE,KAAKA,QAAL,CAAcG,MAZT;AAafkC,4BAAc,EAAE,KAAKD,aAbN;AAcfE,iBAAG,EAAE,KAAKA,GAdK;AAefE,mBAAK,EAAE,KAAKA,KAfG;AAgBfR,wBAAU,EAAE,KAAK1B,SAhBF;AAiBf2B,8BAAgB,EAAE,KAAK1B,cAjBR;AAkBf+D,kBAAI,EAAE,KAAKA,IAlBI;AAmBf3B,oBAAM,EAAE6B,WAnBO;AAoBfO,4BAAc,EAAE,KAAKnE,cApBN;AAqBfoE,4BAAc,EAAE,KAAKtE,aArBN;AAsBfuE,6BAAe,EAAE,KAAKtE,oBAtBP;AAuBfuE,0BAAY,EAAE,KAAK7E,WAvBJ;AAwBfwD,wBAAU,EAAEA;AAxBG,aAAjB;AA2BA,iBAAK5C,KAAL,CAAWkE,OAAX,CAAmBlE,KAAnB;AACA,iBAAK3B,OAAL,CAAa+D,SAAb,CAAuB,OAAvB,EAAgC,KAAKpC,KAArC;;AAEA,gBAAI,KAAKE,OAAL,CAAasD,UAAb,IAA2B,IAA/B,EAAqC;AACnC,mBAAKnF,OAAL,CAAagC,SAAb,CAAuB,SAAvB,EAAkCD,IAAlC,CAAuC,UAACF,OAAD,EAAkB;AACvD,oBAAIiE,SAAS,GAAGjE,OAAO,CAACkE,SAAR,CACd,UAACC,CAAD;AAAA,yBAAOA,CAAC,CAACrF,EAAF,KAAS,MAAI,CAACkB,OAAL,CAAasD,UAA7B;AAAA,iBADc,CAAhB;;AAIA,oBAAIW,SAAS,IAAI,CAAjB,EAAoB;AAClBjE,yBAAO,CAACoE,MAAR,CAAeH,SAAf,EAA0B,CAA1B;;AACA,wBAAI,CAAC9F,OAAL,CAAa+D,SAAb,CAAuB,SAAvB,EAAkClC,OAAlC;AACD;;AAED,sBAAI,CAAC7B,OAAL,CACGgC,SADH,CACa,iBADb,EAEGD,IAFH,CAEQ,UAACmE,cAAD,EAAyB;AAC7B,sBAAIC,gBAAgB,GAAGD,cAAc,CAACH,SAAf,CACrB,UAACC,CAAD;AAAA,2BAAOA,CAAC,KAAK,MAAI,CAACnE,OAAL,CAAasD,UAA1B;AAAA,mBADqB,CAAvB;;AAGA,sBAAIgB,gBAAgB,IAAI,CAAxB,EAA2B;AACzBD,kCAAc,CAACD,MAAf,CAAsBE,gBAAtB,EAAwC,CAAxC;;AACA,0BAAI,CAACnG,OAAL,CAAa+D,SAAb,CAAuB,iBAAvB,EAA0CmC,cAA1C;AACD;AACF,iBAVH;AAWD,eArBD;AAsBD,aAvBD,MAuBO;AACL,mBAAKrE,OAAL,CAAasD,UAAb,GAA0B,IAA1B;AACD;;AAED,gBAAIiB,SAAS,GAAG,IAAI,gEAAJ,CAAgB;AAC9B,8BAAgB,kBADc;AAE9BC,2BAAa,EAAE,YAAY,KAAKpE,IAAL,CAAUqE;AAFP,aAAhB,CAAhB;AAKA,gBAAIC,OAAO,GAAG;AAAEC,qBAAO,EAAEJ;AAAX,aAAd;AACA,iBAAKnG,IAAL,CACGwG,IADH,CACQ,KAAKvG,MAAL,CAAYwG,QAAZ,GAAuB,kBAD/B,EACmD/E,KADnD,EAC0D4E,OAD1D,EAEGI,SAFH,CAGI,UAACzE,IAAD,EAAe;AACbC,qBAAO,CAACC,GAAR,CAAYF,IAAZ;;AAEA,kBAAIA,IAAI,CAACmB,MAAL,IAAe,CAAnB,EAAsB;AACpBlB,uBAAO,CAACC,GAAR,CAAYF,IAAZ;AACD,eAFD,MAEO;AACLC,uBAAO,CAACC,GAAR,CAAYF,IAAZ;AACD;;AAED,kBAAI,MAAI,CAACb,oBAAL,IAA6B,aAAjC,EAAgD;AAC9C,sBAAI,CAAClB,MAAL,CAAYyG,QAAZ,CAAqB,CAAC,0BAA0B5C,QAA3B,CAArB;AACD,eAFD,MAEO;AACL,sBAAI,CAAC7D,MAAL,CAAYyG,QAAZ,CAAqB,CAAC,oBAAoB5C,QAApB,GAA+B,MAAhC,CAArB;AACD;;AAED,oBAAI,CAAC9D,MAAL,CAAY2G,cAAZ;AACD,aAnBL,EAoBI,UAACC,KAAD,EAAW;AACT,oBAAI,CAAC9G,OAAL,CAAagC,SAAb,CAAuB,eAAvB,EAAwCD,IAAxC,CAA6C,UAACG,IAAD,EAAe;AAC1DC,uBAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BF,IAA5B;;AACA,oBAAIA,IAAI,IAAI,IAAZ,EAAkB;AAChB,sBAAI6E,gBAAgB,GAAQ,EAA5B;AACAA,kCAAgB,CAAC9B,IAAjB,CAAsBtD,KAAK,CAAChB,EAA5B;;AACA,wBAAI,CAACX,OAAL,CAAa+D,SAAb,CAAuB,eAAvB,EAAwCgD,gBAAxC;AACD,iBAJD,MAIO;AACL,sBAAIA,iBAAgB,GAAG7E,IAAvB;;AACA6E,mCAAgB,CAAC9B,IAAjB,CAAsBtD,KAAK,CAAChB,EAA5B;;AACA,wBAAI,CAACX,OAAL,CAAa+D,SAAb,CAAuB,eAAvB,EAAwCgD,iBAAxC;AACD;;AAED,sBAAI,CAAC5G,MAAL,CAAYyG,QAAZ,CAAqB,CAAC,oBAAoB5C,QAApB,GAA+B,MAAhC,CAArB;;AAEA,sBAAI,CAAC9D,MAAL,CAAY2G,cAAZ;AACD,eAfD;;AAiBA1E,qBAAO,CAACC,GAAR,CAAY0E,KAAZ;AACD,aAvCL;AAyCD;AAxW4B;AAAA;AAAA,iBA0WvB,yBAAgBE,OAAhB,EAAyB;;;;;;;;AAC7B,yBAAKjG,WAAL,GAAmB,EAAnB;;AACc,2BAAM,KAAKR,eAAL,CAAqB0G,MAArB,CAA4B;AAC9CC,8BAAQ,EAAE,iBADoC;AAE9CC,4BAAM,EAAE,wBAAwBH,OAFc;AAG9CI,4BAAM,EAAE,CACN;AACExG,4BAAI,EAAE,cADR;AAEED,0BAAE,EAAE,cAFN;AAGEG,4BAAI,EAAE,UAHR;AAIEuG,mCAAW,EAAE;AAJf,uBADM,CAHsC;AAW9CC,6BAAO,EAAE,CACP;AACEC,4BAAI,EAAE,OADR;AAEEC,4BAAI,EAAE,QAFR;AAGEN,gCAAQ,EAAE,WAHZ;AAIEO,+BAAO,EAAE,mBAAM;AACbtF,iCAAO,CAACC,GAAR,CAAY,gBAAZ;AACD;AANH,uBADO,EASP;AACEmF,4BAAI,EAAE,IADR;AAEEE,+BAAO,EAAE,iBAACvF,IAAD,EAAU;AACjBC,iCAAO,CAACC,GAAR,CAAY,YAAZ;AACA,gCAAI,CAACrB,WAAL,GAAmBmB,IAAI,CAAC0D,YAAxB;AACD;AALH,uBATO;AAXqC,qBAA5B,CAAN;;;AAAR8B,yB;;AA8BN,2BAAMA,KAAK,CAACC,OAAN,EAAN;;;;;;;;AACD;AA3Y4B;AAAA;AAAA,iBA6YvB,oBAAW;;;;;;;;;AACD,2BAAM,KAAKpH,eAAL,CAAqB0G,MAArB,CAA4B;AAC9CC,8BAAQ,EAAE,YADoC;AAE9CC,4BAAM,EAAE,eAFsC;AAG9CC,4BAAM,EAAE,CACN;AACExG,4BAAI,EAAE,MADR;AAEED,0BAAE,EAAE,MAFN;AAGEG,4BAAI,EAAE,UAHR;AAIEuG,mCAAW,EAAE,EAJf;AAKEO,6BAAK,EAAE,KAAK5C;AALd,uBADM,CAHsC;AAY9CsC,6BAAO,EAAE,CACP;AACEC,4BAAI,EAAE,OADR;AAEEC,4BAAI,EAAE,QAFR;AAGEN,gCAAQ,EAAE,WAHZ;AAIEO,+BAAO,EAAE,mBAAM;AACbtF,iCAAO,CAACC,GAAR,CAAY,gBAAZ;AACD;AANH,uBADO,EASP;AACEmF,4BAAI,EAAE,IADR;AAEEE,+BAAO,EAAE,iBAACvF,IAAD,EAAU;AACjB,gCAAI,CAAC8C,IAAL,GAAY9C,IAAI,CAAC8C,IAAjB;AACA7C,iCAAO,CAACC,GAAR,CAAY,YAAZ;AACD;AALH,uBATO;AAZqC,qBAA5B,CAAN;;;AAARsF,yB;;AA+BN,2BAAMA,KAAK,CAACC,OAAN,EAAN;;;;;;;;AACD;AA9a4B;AAAA;AAAA,iBAgbvB,0BAAiBtE,MAAjB,EAAyB;;;;;;;;;AACf,2BAAM,KAAK9C,eAAL,CAAqB0G,MAArB,CAA4B;AAC9CC,8BAAQ,EAAE,iBADoC;AAE9CC,4BAAM,EAAE,kBAFsC;AAG9CU,6BAAO,EAAE,4BAHqC;AAI9CP,6BAAO,EAAE,CACP;AACEC,4BAAI,EAAE,OADR;AAEEC,4BAAI,EAAE,QAFR;AAGEN,gCAAQ,EAAE,WAHZ;AAIEO,+BAAO,EAAE,iBAACK,IAAD,EAAU;AACjB3F,iCAAO,CAACC,GAAR,CAAY,sBAAZ;AACD;AANH,uBADO,EASP;AACEmF,4BAAI,EAAE,IADR;AAEEE,+BAAO,EAAE,mBAAM;AACbtF,iCAAO,CAACC,GAAR,CAAY,cAAZ;;AACA,gCAAI,CAAC2F,OAAL,CAAa1E,MAAb;AACD;AALH,uBATO;AAJqC,qBAA5B,CAAN;;;AAARqE,yB;;AAuBN,2BAAMA,KAAK,CAACC,OAAN,EAAN;;;;;;;;AACD;AAzc4B;AAAA;AAAA,iBA2c7B,4BAAmB;AACjB,gBAAIpB,OAAO,GAA4B;AACrCyB,uBAAS,EAAE,MAD0B;AAErCC,sBAAQ,EAAE,GAF2B;AAGrCC,4BAAc,EAAE,CAHqB;AAIrCC,yBAAW,EAAE,CAJwB;AAKrCC,sBAAQ,EAAE,CAL2B;AAMrCC,0BAAY,EAAE,CANuB;AAOrCC,4BAAc,EAAE,CAPqB;AAQrCC,+BAAiB,EAAE;AARkB,aAAvC;AAWA,iBAAKjI,qBAAL,CAA2BkI,KAA3B,CAAiCjC,OAAjC;AACD;AAxd4B;;AAAA;AAAA,S;;;;gBAtBtB;;gBAEP;;gBAIO;;gBACA;;gBACA;;gBAAmB;;gBAG1B;;gBAHoC;;;;AAczBxG,wBAAkB,6DAL9B,gEAAU;AACT0I,gBAAQ,EAAE,qBADD;AAETC,gBAAQ,EAAR,6EAFS;;AAAA,OAAV,CAK8B,GAAlB3I,kBAAkB,CAAlB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCJA4I,wBAAwB;AAAA;AAAA,Q;;AAAxBA,8BAAwB,6DATpC,+DAAS;AACRC,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,+FAJO,CADD;AAORC,oBAAY,EAAE,CAAC,wEAAD;AAPN,OAAT,CASoC,GAAxBF,wBAAwB,CAAxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdb,UAAMG,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,+BAA+B;AAAA;AAAA,Q;;AAA/BA,qCAA+B,6DAJ3C,+DAAS;AACRL,eAAO,EAAE,CAAC,6DAAaM,QAAb,CAAsBJ,MAAtB,CAAD,CADD;AAERK,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAI2C,GAA/BF,+BAA+B,CAA/B","file":"payment-options-payment-options-module-es5.js","sourcesContent":["export default \"<ion-header mode=\\\"ios\\\">\\r\\n\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button fill=\\\"link\\\" [routerLink]=\\\"['/tabs/tab-pos']\\\"><ion-icon name=\\\"arrow-back-outline\\\"></ion-icon></ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Pembayaran</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content mode=\\\"ios\\\" class=\\\"ion-padding\\\">\\r\\n\\r\\n<div class=\\\"payment-content\\\">\\r\\n\\r\\n  <div class=\\\"payment-column\\\">\\r\\n  <ion-list>\\r\\n    <ion-item lines=\\\"none\\\" mode=\\\"ios\\\" [routerLink]=\\\"['/select-customer/payment-options']\\\" color=\\\"light\\\"><small><ion-text color=\\\"primary\\\">Pelanggan</ion-text></small>\\r\\n      <ion-note slot=\\\"end\\\">{{customer.name}}</ion-note>\\r\\n    </ion-item>\\r\\n    <ion-item *ngIf=\\\"booking.id != ''\\\"><small>No Booking <br/>Meja / Referensi</small>\\r\\n      <ion-note slot=\\\"end\\\" style=\\\"text-align:right;\\\"><small>BOOK-{{booking.book_number}} <br/>{{booking.book_ref}}</small></ion-note>\\r\\n    </ion-item>\\r\\n    <ion-item><small>Subtotal</small>\\r\\n\\r\\n      <ion-note slot=\\\"end\\\"><small>{{global.currency(subtotal)}} </small></ion-note>\\r\\n    </ion-item>\\r\\n    <ion-item button [routerLink]=\\\"['/select-discount/payment-options']\\\"><small>Diskon</small>\\r\\n\\r\\n      <ion-note slot=\\\"end\\\" color=\\\"primary\\\"><small>{{global.currency(discount.amount)}}</small></ion-note>\\r\\n    </ion-item>\\r\\n    <ion-item><small>Service Charge</small>\\r\\n\\r\\n      <ion-note slot=\\\"end\\\"><small>{{global.currency(serviceCharge)}}</small></ion-note>\\r\\n    </ion-item>\\r\\n    <ion-item><small>Pajak</small>\\r\\n\\r\\n      <ion-note slot=\\\"end\\\"><small>{{global.currency(tax)}}</small></ion-note>\\r\\n    </ion-item>\\r\\n\\r\\n  </ion-list>\\r\\n\\r\\n\\r\\n  <ion-card color=\\\"dark\\\">\\r\\n    <ion-card-content>\\r\\n      <h4 class=\\\"total\\\">{{global.currency(total)}}</h4>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"payment-column\\\">\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"6\\\" *ngIf=\\\"company.payment_cash == 1\\\">\\r\\n        <ion-button expand=\\\"block\\\"  color=\\\"dark\\\" fill=\\\"outline\\\" *ngIf=\\\"cash\\\">Tunai</ion-button>\\r\\n        <ion-button expand=\\\"block\\\"  color=\\\"light\\\"  *ngIf=\\\"!cash\\\" (click)=\\\"selectcash()\\\">Tunai</ion-button>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"6\\\">\\r\\n        <ion-button expand=\\\"block\\\" color=\\\"dark\\\" fill=\\\"outline\\\" *ngIf=\\\"!cash\\\">Non Tunai</ion-button>\\r\\n        <ion-button expand=\\\"block\\\"  color=\\\"light\\\" *ngIf=\\\"cash\\\" (click)=\\\"selectcashless()\\\">Non Tunai</ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n\\r\\n  <div *ngIf=\\\"cash && company.payment_cash\\\">\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"stacked\\\">Uang diterima</ion-label>\\r\\n    <ion-input type=\\\"tel\\\" [(ngModel)]=\\\"amountReceived\\\" (change)=\\\"amountReceivedChange()\\\"></ion-input>\\r\\n\\r\\n  </ion-item>\\r\\n\\r\\n  <div class=\\\"ion-padding\\\">\\r\\n    <ion-button color=\\\"light\\\" (click)=\\\"shortcutAmount(total)\\\" color=\\\"{{checkIfAmountMatch(total)}}\\\">Uang Pas</ion-button>\\r\\n    <ion-button color=\\\"light\\\" (click)=\\\"shortcutAmount(50000)\\\" color=\\\"{{checkIfAmountMatch(50000)}}\\\">{{global.currency(50000)}}</ion-button>\\r\\n    <ion-button color=\\\"light\\\" (click)=\\\"shortcutAmount(100000)\\\" color=\\\"{{checkIfAmountMatch(100000)}}\\\">{{global.currency(100000)}}</ion-button>\\r\\n    <ion-button color=\\\"light\\\" (click)=\\\"shortcutAmount(200000)\\\" color=\\\"{{checkIfAmountMatch(200000)}}\\\">{{global.currency(200000)}}</ion-button>\\r\\n    <ion-button color=\\\"light\\\" (click)=\\\"shortcutAmount(300000)\\\" color=\\\"{{checkIfAmountMatch(300000)}}\\\">{{global.currency(300000)}}</ion-button>\\r\\n\\r\\n  </div>\\r\\n\\r\\n  </div>\\r\\n  <div *ngIf=\\\"!cash\\\">\\r\\n    <ion-list>\\r\\n  <ion-radio-group [(ngModel)]=\\\"paymentMethodChannel\\\">\\r\\n    <ion-item *ngIf=\\\"company.payment_debit_card == 1\\\" (click)=\\\"openPaymentNote('Debit Card')\\\">\\r\\n      <ion-label>Kartu Debit</ion-label>\\r\\n      <ion-radio slot=\\\"start\\\" value=\\\"Debit Card\\\"></ion-radio>\\r\\n      <ion-icon name=\\\"card-outline\\\" slot=\\\"end\\\"></ion-icon>\\r\\n    </ion-item>\\r\\n    <ion-item *ngIf=\\\"company.payment_credit_card == 1\\\" (click)=\\\"openPaymentNote('Credit Card')\\\">\\r\\n      <ion-label>Kartu Kredit</ion-label>\\r\\n      <ion-radio slot=\\\"start\\\" value=\\\"Credit Card\\\"></ion-radio>\\r\\n      <ion-icon name=\\\"card-outline\\\" slot=\\\"end\\\"></ion-icon>\\r\\n    </ion-item>\\r\\n    <ion-item *ngIf=\\\"company.payment_transfer == 1\\\" (click)=\\\"openPaymentNote('Transfer Bank')\\\">\\r\\n      <ion-label>Transfer Bank</ion-label>\\r\\n      <ion-radio slot=\\\"start\\\" value=\\\"Transfer Bank\\\"></ion-radio>\\r\\n      <ion-icon name=\\\"enter-outline\\\" slot=\\\"end\\\"></ion-icon>\\r\\n    </ion-item>\\r\\n    <ion-item *ngIf=\\\"company.payment_qris == 1\\\">\\r\\n      <ion-label class=\\\"ion-text-wrap\\\">QRIS <p><small>OVO, Gopay, DANA, ShoppePay, dll</small></p></ion-label>\\r\\n      <ion-radio slot=\\\"start\\\" value=\\\"QRIS\\\"></ion-radio>\\r\\n      <ion-icon name=\\\"qr-code-outline\\\" slot=\\\"end\\\"></ion-icon>\\r\\n    </ion-item>\\r\\n    <ion-item *ngIf=\\\"company.payment_qris_online == 1\\\">\\r\\n      <ion-label class=\\\"ion-text-wrap\\\">QRIS Online <p><small>OVO, Gopay, DANA, ShoppePay, dll</small></p></ion-label>\\r\\n      <ion-radio slot=\\\"start\\\" value=\\\"QRIS Online\\\"></ion-radio>\\r\\n      <ion-icon name=\\\"qr-code-outline\\\" slot=\\\"end\\\"></ion-icon>\\r\\n    </ion-item>\\r\\n\\r\\n  </ion-radio-group>\\r\\n  </ion-list>\\r\\n  </div>\\r\\n\\r\\n\\r\\n\\r\\n  </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n</ion-content>\\r\\n<ion-footer mode=\\\"ios\\\" class=\\\"ion-padding\\\" style=\\\"border-top:1px solid #ccc;\\\">\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <!-- <ion-col size=\\\"3\\\">\\r\\n        <ion-button [routerLink]=\\\"['/tabs/tab-pos']\\\" color=\\\"light\\\" expand=\\\"block\\\">\\r\\n        <ion-icon name=\\\"arrow-back-outline\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n\\r\\n      </ion-col> -->\\r\\n\\r\\n      <ion-col size=\\\"2\\\">\\r\\n        <ion-button (click)=\\\"openNote()\\\" color=\\\"light\\\" expand=\\\"block\\\">\\r\\n          <ion-icon name=\\\"document-text-outline\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"5\\\">\\r\\n        <ion-button (click)=\\\"confirmToProcess('Pending')\\\" color=\\\"light\\\" expand=\\\"block\\\">\\r\\n          Bayar nanti\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n\\r\\n      <ion-col size=\\\"5\\\">\\r\\n        <ion-button (click)=\\\"confirmToProcess('Completed')\\\" color=\\\"primary\\\" expand=\\\"block\\\">\\r\\n          Bayar\\r\\n        <ion-icon name=\\\"arrow-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-footer>\\r\\n\";","export default \".total {\\n  font-size: 24px;\\n  text-align: center;\\n}\\n\\n.payment-content {\\n  padding-top: 10px;\\n}\\n\\n@media screen and (min-width: 720px) {\\n  .payment-column {\\n    width: 49%;\\n    float: left;\\n  }\\n}\\n\\n@media screen and (max-width: 719px) {\\n  .payment-column {\\n    width: 100%;\\n    float: none;\\n  }\\n}\\n\\n.alertClass {\\n  transform: scale(1.5);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXHBheW1lbnQtb3B0aW9ucy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLGlCQUFBO0FBQ0Y7O0FBRUE7RUFFRTtJQUNFLFVBQUE7SUFDQSxXQUFBO0VBQUY7QUFDRjs7QUFHQTtFQUVFO0lBQ0UsV0FBQTtJQUNBLFdBQUE7RUFGRjtBQUNGOztBQU1BO0VBRUUscUJBQUE7QUFMRiIsImZpbGUiOiJwYXltZW50LW9wdGlvbnMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRvdGFsIHtcclxuICBmb250LXNpemU6IDI0cHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4ucGF5bWVudC1jb250ZW50IHtcclxuICBwYWRkaW5nLXRvcDogMTBweDtcclxufVxyXG5cclxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzIwcHgpIHtcclxuXHJcbiAgLnBheW1lbnQtY29sdW1uIHtcclxuICAgIHdpZHRoOjQ5JTtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gIH1cclxufVxyXG5cclxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzE5cHgpIHtcclxuXHJcbiAgLnBheW1lbnQtY29sdW1uIHtcclxuICAgIHdpZHRoOjEwMCU7XHJcbiAgICBmbG9hdDogbm9uZTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4uYWxlcnRDbGFzcyB7XHJcbiAgLy8gLS1tYXgtd2lkdGg6IDQwMHB4O1xyXG4gIHRyYW5zZm9ybTogc2NhbGUoMS41KTtcclxufVxyXG4iXX0= */\";","import { Component, OnInit } from \"@angular/core\";\r\nimport { StorageService } from \"../storage.service\";\r\nimport {\r\n  HttpClient,\r\n  HttpHeaders,\r\n  HttpErrorResponse,\r\n} from \"@angular/common/http\";\r\nimport { GlobalService } from \"../global.service\";\r\nimport { Router } from \"@angular/router\";\r\nimport { LoadingController, Platform, AlertController } from \"@ionic/angular\";\r\n\r\nimport {\r\n  NativePageTransitions,\r\n  NativeTransitionOptions,\r\n} from \"@ionic-native/native-page-transitions/ngx\";\r\n\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\n@Component({\r\n  selector: \"app-payment-options\",\r\n  templateUrl: \"./payment-options.page.html\",\r\n  styleUrls: [\"./payment-options.page.scss\"],\r\n})\r\nexport class PaymentOptionsPage implements OnInit {\r\n  auth: any;\r\n  company: any = { payment_cash: 1 };\r\n\r\n  activeOutlet: any;\r\n  activeUser: any;\r\n\r\n  cart: any;\r\n  subtotal: any;\r\n  subtotalAfterDiscount: any;\r\n  totalAmount: any;\r\n  totalQty: any;\r\n  discount: any = { id: \"\", name: \"\", amount: 0, type: \"Fixed\" };\r\n  serviceCharge: any;\r\n  tax: any;\r\n  total: any;\r\n  note: any;\r\n  paymentNote: any = \"\";\r\n\r\n  orderType: any = \"none\";\r\n  orderTypeLabel: any = \"none\";\r\n\r\n  customer: any = { id: \"Walk-in\", name: \"Walk-in\", phone: \"\" };\r\n\r\n  paymentMethod: any = \"Cash\";\r\n  paymentMethodChannel: any = \"Cash\";\r\n  amountReceived: any = \"\";\r\n  amountChange: any = 0;\r\n\r\n  backButtonText: any = \"Kembali\";\r\n  backButtonIcon: any = \"arrow-back-outline\";\r\n\r\n  cash: any = true;\r\n\r\n  // order\r\n  order: any = [];\r\n  storageOrder: any = [];\r\n\r\n  booking: any = { id: \"\" };\r\n\r\n  constructor(\r\n    private storage: StorageService,\r\n    private http: HttpClient,\r\n    public global: GlobalService,\r\n    private router: Router,\r\n    private loadingController: LoadingController,\r\n    private platform: Platform,\r\n    private nativePageTransitions: NativePageTransitions,\r\n    private alertController: AlertController\r\n  ) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  ionViewWillEnter() {\r\n    this.platform.ready().then(() => {\r\n      this.booking = { id: \"\" };\r\n      this.storage.getObject(\"auth\").then((auth) => {\r\n        this.auth = auth;\r\n      });\r\n\r\n      this.storage.getObject(\"pos_booking\").then((data: any) => {\r\n        if (data != null) {\r\n          this.booking = data;\r\n        }\r\n      });\r\n\r\n      this.storage.getObject(\"pos_customer\").then((data: any) => {\r\n        if (data != null) {\r\n          this.customer = data;\r\n          console.log(data);\r\n        }\r\n      });\r\n\r\n      this.storage.getObject(\"pos_cart\").then((data: any) => {\r\n        if (data != null) {\r\n          this.cart = data;\r\n        }\r\n      });\r\n\r\n      this.storage.getObject(\"pos_subtotal\").then((data: any) => {\r\n        this.totalAmount = data.amount;\r\n\r\n        this.subtotal = this.totalAmount;\r\n        this.totalQty = data.qty;\r\n        console.log(data);\r\n      });\r\n\r\n      this.storage.getObject(\"pos_order_type\").then((data: any) => {\r\n        this.orderType = data.order_type;\r\n        this.orderTypeLabel = data.order_type_label;\r\n      });\r\n\r\n      this.storage.getObject(\"pos_discount\").then((data: any) => {\r\n        if (data != null) {\r\n          this.discount = data;\r\n          if (data.type == \"Percentage\") {\r\n            this.discount.amount = (this.subtotal * data.amount) / 100;\r\n            this.subtotalAfterDiscount =\r\n              parseInt(this.subtotal) - parseInt(this.discount.amount);\r\n          } else {\r\n            this.discount.amount = data.amount;\r\n            this.subtotalAfterDiscount =\r\n              parseInt(this.subtotal) - parseInt(this.discount.amount);\r\n          }\r\n        } else {\r\n          this.subtotalAfterDiscount =\r\n            parseInt(this.subtotal) - parseInt(this.discount.amount);\r\n        }\r\n\r\n        this.storage.getObject(\"company\").then((data: any) => {\r\n          if (data != null) {\r\n            this.company = data;\r\n            this.serviceCharge =\r\n              (this.subtotalAfterDiscount * data.service_charge) / 100;\r\n            this.tax = (this.subtotalAfterDiscount * data.tax) / 100;\r\n\r\n            if (data.payment_cash != 1) {\r\n              this.cash == false;\r\n              this.selectcashless();\r\n            }\r\n          }\r\n\r\n          this.total =\r\n            this.subtotalAfterDiscount + this.serviceCharge + this.tax;\r\n        });\r\n      });\r\n    });\r\n    // this.loadingController.dismiss();\r\n  }\r\n\r\n  selectcash() {\r\n    this.cash = true;\r\n    this.paymentMethod = \"Cash\";\r\n    this.paymentMethodChannel = \"Cash\";\r\n  }\r\n\r\n  selectcashless() {\r\n    this.cash = false;\r\n    this.paymentMethod = \"Cashless\";\r\n    this.paymentMethodChannel = \"\";\r\n    this.amountReceived = this.total;\r\n  }\r\n\r\n  shortcutAmount(amount) {\r\n    this.amountReceived = parseFloat(amount);\r\n    this.amountReceivedChange();\r\n  }\r\n\r\n  amountReceivedChange() {\r\n    this.amountReceived = parseFloat(this.amountReceived);\r\n    this.amountChange = this.amountReceived - this.totalAmount;\r\n  }\r\n\r\n  checkIfAmountMatch(amount) {\r\n    if (parseFloat(this.amountReceived) == amount) {\r\n      return \"primary\";\r\n    } else {\r\n      return \"light\";\r\n    }\r\n  }\r\n\r\n  process(status) {\r\n    this.storage.getObject(\"order\").then((data: any) => {\r\n      if (data != null) {\r\n        this.storageOrder = data;\r\n        this.order = this.storageOrder;\r\n      }\r\n      this.storage.getObject(\"outlet_active\").then((outlet: any) => {\r\n        this.activeOutlet = outlet;\r\n        this.storage.getObject(\"user\").then((user: any) => {\r\n          this.activeUser = user;\r\n\r\n          this.processOrder(status);\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  processOrder(status) {\r\n    if (status == \"Completed\") {\r\n      if (this.paymentMethodChannel == \"\") {\r\n        this.global.toastPresent(\"Silahkan pilih channel pembayaran!\");\r\n        return false;\r\n      }\r\n\r\n      if (this.paymentMethod == \"Cash\") {\r\n        if (this.amountReceived < this.total) {\r\n          this.global.toastPresent(\r\n            \"Uang yang diterima tidak kurang dari total transaksi!\"\r\n          );\r\n          return false;\r\n        }\r\n      } else {\r\n        this.amountReceived = this.total;\r\n      }\r\n    }\r\n\r\n    this.global.loadingPresent(\"memproses order...\");\r\n\r\n    if (status == \"Pending\") {\r\n      this.amountReceived = 0;\r\n      this.amountChange = 0;\r\n\r\n      var payment = {\r\n        method: this.paymentMethod,\r\n        amountReceived: this.amountReceived,\r\n        amountChange: this.amountChange,\r\n      };\r\n    } else {\r\n      var payment = {\r\n        method: this.paymentMethod,\r\n        amountReceived: this.amountReceived,\r\n        amountChange: this.amountChange,\r\n      };\r\n    }\r\n\r\n    this.storage.setObject(\"pos_payment\", payment);\r\n\r\n    var order_id = uuidv4();\r\n    var order_number =\r\n      this.company.seq +\r\n      this.global.getYear() +\r\n      this.global.getMonth() +\r\n      this.global.getDate() +\r\n      this.global.getMathRandom();\r\n\r\n    var order_item = [];\r\n    for (let item of this.cart) {\r\n      var subtotal = item.price * item.qty;\r\n      var product = { id: item.id, name: item.name };\r\n      var tempItem = {\r\n        id: uuidv4(),\r\n        order_id: order_id,\r\n        order_number: order_number,\r\n        order_time: this.global.getDateNow(),\r\n        product_id: item.id,\r\n        name: item.name,\r\n        cost: item.cost,\r\n        price: item.price,\r\n        qty: item.qty,\r\n        note: item.note,\r\n        subtotal: subtotal,\r\n        status: \"Completed\",\r\n        product: product,\r\n      };\r\n      order_item.push(tempItem);\r\n    }\r\n\r\n    let statusOrder: any = \"\";\r\n\r\n    if (this.paymentMethodChannel == \"QRIS Online\") {\r\n      statusOrder = \"Pending\";\r\n    } else {\r\n      statusOrder = status;\r\n    }\r\n\r\n    let order: any = {\r\n      id: order_id,\r\n      booking_id: this.booking.booking_id,\r\n      order_number: order_number,\r\n      order_time: this.global.getDateNow(),\r\n      outlet_id: this.activeOutlet.id,\r\n      customer: { id: this.customer.id, name: this.customer.name },\r\n      customer_name: this.customer.name,\r\n      customer_phone: this.customer.phone,\r\n      customer_id: this.customer.id,\r\n      user_id: this.activeUser.id,\r\n      subtotal: this.subtotal,\r\n      discount: this.discount.amount,\r\n      service_charge: this.serviceCharge,\r\n      tax: this.tax,\r\n      total: this.total,\r\n      order_type: this.orderType,\r\n      order_type_label: this.orderTypeLabel,\r\n      note: this.note,\r\n      status: statusOrder,\r\n      cash_collected: this.amountReceived,\r\n      payment_method: this.paymentMethod,\r\n      payment_channel: this.paymentMethodChannel,\r\n      payment_note: this.paymentNote,\r\n      order_item: order_item,\r\n    };\r\n\r\n    this.order.unshift(order);\r\n    this.storage.setObject(\"order\", this.order);\r\n\r\n    if (this.booking.booking_id != null) {\r\n      this.storage.getObject(\"booking\").then((booking: any) => {\r\n        var bookIndex = booking.findIndex(\r\n          (x) => x.id === this.booking.booking_id\r\n        );\r\n\r\n        if (bookIndex >= 0) {\r\n          booking.splice(bookIndex, 1);\r\n          this.storage.setObject(\"booking\", booking);\r\n        }\r\n\r\n        this.storage\r\n          .getObject(\"booking_offline\")\r\n          .then((bookingOffline: any) => {\r\n            var bookOfflineIndex = bookingOffline.findIndex(\r\n              (x) => x === this.booking.booking_id\r\n            );\r\n            if (bookOfflineIndex >= 0) {\r\n              bookingOffline.splice(bookOfflineIndex, 1);\r\n              this.storage.setObject(\"booking_offline\", bookingOffline);\r\n            }\r\n          });\r\n      });\r\n    } else {\r\n      this.booking.booking_id = null;\r\n    }\r\n\r\n    var reqHeader = new HttpHeaders({\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: \"Bearer \" + this.auth.token,\r\n    });\r\n\r\n    let options = { headers: reqHeader };\r\n    this.http\r\n      .post(this.global.base_url + \"auth/order/store\", order, options)\r\n      .subscribe(\r\n        (data: any) => {\r\n          console.log(data);\r\n\r\n          if (data.status == 0) {\r\n            console.log(data);\r\n          } else {\r\n            console.log(data);\r\n          }\r\n\r\n          if (this.paymentMethodChannel == \"QRIS Online\") {\r\n            this.router.navigate([\"/orders-payment-qris/\" + order_id]);\r\n          } else {\r\n            this.router.navigate([\"/orders-detail/\" + order_id + \"/pos\"]);\r\n          }\r\n\r\n          this.global.loadingDismiss();\r\n        },\r\n        (error) => {\r\n          this.storage.getObject(\"order_offline\").then((data: any) => {\r\n            console.log(\"orderoffline\", data);\r\n            if (data == null) {\r\n              let tempOrderOffline: any = [];\r\n              tempOrderOffline.push(order.id);\r\n              this.storage.setObject(\"order_offline\", tempOrderOffline);\r\n            } else {\r\n              let tempOrderOffline = data;\r\n              tempOrderOffline.push(order.id);\r\n              this.storage.setObject(\"order_offline\", tempOrderOffline);\r\n            }\r\n\r\n            this.router.navigate([\"/orders-detail/\" + order_id + \"/pos\"]);\r\n\r\n            this.global.loadingDismiss();\r\n          });\r\n\r\n          console.log(error);\r\n        }\r\n      );\r\n  }\r\n\r\n  async openPaymentNote(channel) {\r\n    this.paymentNote = \"\";\r\n    const alert = await this.alertController.create({\r\n      cssClass: \"my-custom-class\",\r\n      header: \"Catatan pembayaran \" + channel,\r\n      inputs: [\r\n        {\r\n          name: \"payment_note\",\r\n          id: \"payment_note\",\r\n          type: \"textarea\",\r\n          placeholder: \"Nomor kartu, nomor pembayaran\",\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: \"Batal\",\r\n          role: \"cancel\",\r\n          cssClass: \"secondary\",\r\n          handler: () => {\r\n            console.log(\"Confirm Cancel\");\r\n          },\r\n        },\r\n        {\r\n          text: \"Ok\",\r\n          handler: (data) => {\r\n            console.log(\"Confirm Ok\");\r\n            this.paymentNote = data.payment_note;\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  async openNote() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: \"alertClass\",\r\n      header: \"Catatan order\",\r\n      inputs: [\r\n        {\r\n          name: \"note\",\r\n          id: \"note\",\r\n          type: \"textarea\",\r\n          placeholder: \"\",\r\n          value: this.note,\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: \"Batal\",\r\n          role: \"cancel\",\r\n          cssClass: \"secondary\",\r\n          handler: () => {\r\n            console.log(\"Confirm Cancel\");\r\n          },\r\n        },\r\n        {\r\n          text: \"Ok\",\r\n          handler: (data) => {\r\n            this.note = data.note;\r\n            console.log(\"Confirm Ok\");\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  async confirmToProcess(status) {\r\n    const alert = await this.alertController.create({\r\n      cssClass: \"my-custom-class\",\r\n      header: \"Konfirmasi order\",\r\n      message: \"Yakin memproses order ini?\",\r\n      buttons: [\r\n        {\r\n          text: \"Batal\",\r\n          role: \"cancel\",\r\n          cssClass: \"secondary\",\r\n          handler: (blah) => {\r\n            console.log(\"Confirm Cancel: blah\");\r\n          },\r\n        },\r\n        {\r\n          text: \"Ok\",\r\n          handler: () => {\r\n            console.log(\"Confirm Okay\");\r\n            this.process(status);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    let options: NativeTransitionOptions = {\r\n      direction: \"left\",\r\n      duration: 300,\r\n      slowdownfactor: 0,\r\n      slidePixels: 0,\r\n      iosdelay: 0,\r\n      androiddelay: 0,\r\n      fixedPixelsTop: 0,\r\n      fixedPixelsBottom: 0,\r\n    };\r\n\r\n    this.nativePageTransitions.slide(options);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PaymentOptionsPageRoutingModule } from './payment-options-routing.module';\r\n\r\nimport { PaymentOptionsPage } from './payment-options.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    PaymentOptionsPageRoutingModule\r\n  ],\r\n  declarations: [PaymentOptionsPage]\r\n})\r\nexport class PaymentOptionsPageModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PaymentOptionsPage } from './payment-options.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PaymentOptionsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PaymentOptionsPageRoutingModule {}\r\n"]}