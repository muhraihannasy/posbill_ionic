{"version":3,"sources":["./src/app/select-customer/select-customer.page.scss","./src/app/select-customer/select-customer-routing.module.ts","./src/app/select-customer/select-customer.page.html","./src/app/select-customer/select-customer.module.ts","./src/app/select-customer/select-customer.page.ts"],"names":[],"mappings":"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","file":"select-customer-select-customer-module-es2015.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZWxlY3QtY3VzdG9tZXIucGFnZS5zY3NzIn0= */\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SelectCustomerPage } from './select-customer.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SelectCustomerPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SelectCustomerPageRoutingModule {}\r\n","export default \"<ion-header mode=\\\"ios\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button *ngIf=\\\"id\\\" fill=\\\"link\\\" [routerLink]=\\\"['/'+redirect+'/'+id]\\\"><ion-icon name=\\\"arrow-back-outline\\\"></ion-icon></ion-button>\\r\\n      <ion-button *ngIf=\\\"!id\\\" fill=\\\"link\\\" [routerLink]=\\\"['/'+redirect]\\\"><ion-icon name=\\\"arrow-back-outline\\\"></ion-icon></ion-button>\\r\\n    </ion-buttons>\\r\\n      <ion-searchbar (ionInput)=\\\"filterList($event)\\\" placeholder=\\\"Cari pelanggan\\\"></ion-searchbar>\\r\\n  </ion-toolbar>\\r\\n\\r\\n    <div class=\\\"ion-padding ion-text-center\\\">\\r\\n      <ion-button fill=\\\"link\\\" color=\\\"primary\\\" (click)=\\\"choose({id:'Walk-in',name:'Walk-in'})\\\"><ion-text color=\\\"primary\\\">Walk-in</ion-text></ion-button>\\r\\n      <ion-button fill=\\\"outline\\\" color=\\\"primary\\\" (click)=\\\"presentAlertPrompt()\\\" ><ion-text color=\\\"primary\\\">+ Tambah pelanggan</ion-text></ion-button>\\r\\n    </div>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content mode=\\\"ios\\\">\\r\\n\\r\\n  <ion-list>\\r\\n    <ion-item button *ngFor=\\\"let item of customerSearch\\\" (click)=\\\"choose(item)\\\">\\r\\n      <ion-label>{{item.name}}</ion-label>\\r\\n      <ion-note slot=\\\"end\\\"><small>{{item.phone}}</small></ion-note>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SelectCustomerPageRoutingModule } from './select-customer-routing.module';\r\n\r\nimport { SelectCustomerPage } from './select-customer.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SelectCustomerPageRoutingModule\r\n  ],\r\n  declarations: [SelectCustomerPage]\r\n})\r\nexport class SelectCustomerPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { StorageService } from '../storage.service';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse} from \"@angular/common/http\";\r\nimport { GlobalService } from '../global.service';\r\nimport { LoadingController, Platform, MenuController, AlertController } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NativePageTransitions, NativeTransitionOptions } from '@ionic-native/native-page-transitions/ngx';\r\n\r\n\r\n@Component({\r\n  selector: 'app-select-customer',\r\n  templateUrl: './select-customer.page.html',\r\n  styleUrls: ['./select-customer.page.scss'],\r\n})\r\nexport class SelectCustomerPage implements OnInit {\r\n\r\n  auth: any;\r\n\r\n  id: any;\r\n  customer: any;\r\n  customerSearch: any;\r\n\r\n  redirect: any;\r\n\r\n  constructor(\r\n    private storage: StorageService,\r\n    private http: HttpClient,\r\n    public global: GlobalService,\r\n    private router:Router,\r\n    private loadingController: LoadingController,\r\n    private platform: Platform,\r\n    private nativePageTransitions: NativePageTransitions,\r\n    private route: ActivatedRoute,\r\n    private alertController: AlertController\r\n  ) {\r\n\r\n    this.route.params.subscribe((params: any) => {\r\n      if(params['redirect'])\r\n      {\r\n        this.redirect = params['redirect'];\r\n      }\r\n      if(params['id'])\r\n      {\r\n        this.id = params['id'];\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  ionViewWillEnter()\r\n  {\r\n    this.storage.getObject('auth').then((auth) => {\r\n      this.auth = auth;\r\n      this.getData();\r\n    });\r\n  }\r\n\r\n  getData()\r\n  {\r\n    this.global.loadingPresent('mengambil data...');\r\n    this.storage.getObject('auth').then((auth) => {\r\n\r\n      var reqHeader = new HttpHeaders({\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer '+this.auth.token\r\n       });\r\n\r\n      let options = {headers: reqHeader};\r\n\r\n      this.http.post(this.global.base_url+'auth/customer/list', null, options)\r\n         .subscribe((data: any) => {\r\n           console.log(data);\r\n\r\n           if(data.status == 0)\r\n           {\r\n             this.customer = data.customer;\r\n             this.customerSearch = this.customer;\r\n             console.log(data);\r\n           }\r\n           else\r\n           {\r\n             console.log(data);\r\n           }\r\n           this.global.loadingDismiss();\r\n          }, error => {\r\n           console.log(error);\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  async filterList(evt) {\r\n     this.customerSearch = this.customer;\r\n\r\n    const searchTerm = evt.srcElement.value;\r\n\r\n    if (!searchTerm) {\r\n      return;\r\n    }\r\n\r\n    this.customerSearch = this.customerSearch.filter(currentCustomer => {\r\n      if (currentCustomer.name && searchTerm) {\r\n        return (currentCustomer.name.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1);\r\n      }\r\n    });\r\n\r\n    console.log(this.customerSearch);\r\n  }\r\n\r\n  choose(customer)\r\n  {\r\n    if(this.redirect == 'orders-edit')\r\n    {\r\n      this.global.loadingPresent('menyimpan pelanggan..');\r\n      var reqHeader = new HttpHeaders({\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer '+this.auth.token\r\n       });\r\n\r\n      let options = {headers: reqHeader};\r\n\r\n      let postData = {\r\n                  order_id: this.id,\r\n                  customer_id: customer.id\r\n                };\r\n\r\n      this.http.post(this.global.base_url+'auth/order/edit_customer', postData, options)\r\n         .subscribe((data: any) => {\r\n           console.log(data);\r\n\r\n           if(data.status == 0)\r\n           {\r\n             this.storage.getObject('order').then((storageOrder: any) => {\r\n               if(storageOrder != null)\r\n               {\r\n                 var orderIndex = storageOrder.findIndex(x => x.id === this.id);\r\n                 storageOrder[orderIndex] = data.order;\r\n\r\n                 this.storage.setObject('order',storageOrder);\r\n\r\n                 this.global.toastPresent(data.message);\r\n                 this.router.navigate(['/'+this.redirect+'/'+this.id+'/refresh']);\r\n               }\r\n             });\r\n           }\r\n           else\r\n           {\r\n             console.log(data);\r\n           }\r\n           this.global.loadingDismiss();\r\n          }, error => {\r\n           console.log(error);\r\n          this.global.loadingDismiss();\r\n      });\r\n    }\r\n    else if(this.redirect == 'booking-edit')\r\n    {\r\n      this.global.loadingPresent('menyimpan pelanggan..');\r\n      var reqHeader = new HttpHeaders({\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer '+this.auth.token\r\n       });\r\n\r\n      let options = {headers: reqHeader};\r\n\r\n      let postData = {\r\n                  booking_id: this.id,\r\n                  customer_id: customer.id\r\n                };\r\n\r\n      this.http.post(this.global.base_url+'auth/booking/edit_customer', postData, options)\r\n         .subscribe((data: any) => {\r\n           console.log(data);\r\n\r\n           if(data.status == 0)\r\n           {\r\n             this.storage.getObject('booking').then((storageBooking: any) => {\r\n               if(storageBooking != null)\r\n               {\r\n                 var bookingIndex = storageBooking.findIndex(x => x.id === this.id);\r\n                 storageBooking[bookingIndex] = data.booking;\r\n\r\n                 this.storage.setObject('booking',storageBooking);\r\n\r\n                 this.global.toastPresent(data.message);\r\n                 this.router.navigate(['/'+this.redirect+'/'+this.id+'/refresh']);\r\n               }\r\n             });\r\n           }\r\n           else\r\n           {\r\n             console.log(data);\r\n           }\r\n           this.global.loadingDismiss();\r\n          }, error => {\r\n           console.log(error);\r\n          this.global.loadingDismiss();\r\n      });\r\n    }\r\n    else\r\n    {\r\n      this.storage.setObject('pos_customer',{id:customer.id,name:customer.name,phone:customer.phone});\r\n      this.router.navigate(['/'+this.redirect]);\r\n    }\r\n\r\n  }\r\n\r\n  async presentAlertPrompt() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Tambah pelanggan baru',\r\n      inputs: [\r\n        {\r\n          name: 'name',\r\n          type: 'text',\r\n          id: 'name',\r\n          value: '',\r\n          placeholder: 'Nama'\r\n        },\r\n        {\r\n          name: 'phone',\r\n          type: 'tel',\r\n          id: 'phone',\r\n          value: '',\r\n          placeholder: 'Telepon'\r\n        },\r\n        {\r\n          name: 'email',\r\n          type: 'email',\r\n          id: 'email',\r\n          value: '',\r\n          placeholder: 'Email'\r\n        }\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Batal',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: () => {\r\n            console.log('Confirm Cancel');\r\n          }\r\n        }, {\r\n          text: 'Tambah',\r\n          handler: (data) => {\r\n            this.process(data.name,data.phone,data.email);\r\n            console.log('Confirm Ok',data);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  process(name,phone,email)\r\n  {\r\n    if((name == '') || (phone == ''))\r\n    {\r\n      this.global.toastPresent('Mohon lengkapi form yang wajib diisi!');\r\n      return false;\r\n    }\r\n\r\n    this.global.loadingPresent('menambah pelanggan...');\r\n    this.storage.getObject('auth').then((auth) => {\r\n\r\n      var reqHeader = new HttpHeaders({\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer '+this.auth.token\r\n       });\r\n\r\n      let options = {headers: reqHeader};\r\n\r\n      let postData = {\r\n                  name: name,\r\n                  email: email,\r\n                  phone: phone\r\n                };\r\n\r\n      this.http.post(this.global.base_url+'auth/customer/add', postData, options)\r\n         .subscribe((data: any) => {\r\n           console.log(data);\r\n\r\n           if(data.status == 0)\r\n           {\r\n             this.global.toastPresent(data.message);\r\n             this.choose(data.customer);\r\n           }\r\n           else\r\n           {\r\n             console.log(data);\r\n           }\r\n           this.global.loadingDismiss();\r\n          }, error => {\r\n           console.log(error);\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}