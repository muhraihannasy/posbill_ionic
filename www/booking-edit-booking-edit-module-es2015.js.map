{"version":3,"sources":["./src/app/booking-edit/booking-edit.page.scss","./src/app/booking-edit/booking-edit.page.ts","./src/app/booking-edit/booking-edit-routing.module.ts","./src/app/booking-edit/booking-edit.module.ts","./src/app/booking-edit/booking-edit.page.html"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,6GAA8C,2HAA2H,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAtI;AACE;AAC6B;AAC/B;AACT;AACqC;AAE7B;AACoB;AACsC;IAO9F,eAAe,SAAf,eAAe;IAmB1B,YACU,OAAuB,EACvB,IAAgB,EACjB,MAAqB,EACpB,MAAa,EACb,iBAAoC,EACpC,QAAkB,EAClB,KAAqB,EACrB,eAAgC,EAChC,qBAA4C,EAC5C,eAAgC;QAThC,YAAO,GAAP,OAAO,CAAgB;QACvB,SAAI,GAAJ,IAAI,CAAY;QACjB,WAAM,GAAN,MAAM,CAAe;QACpB,WAAM,GAAN,MAAM,CAAO;QACb,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,aAAQ,GAAR,QAAQ,CAAU;QAClB,UAAK,GAAL,KAAK,CAAgB;QACrB,oBAAe,GAAf,eAAe,CAAiB;QAChC,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,oBAAe,GAAf,eAAe,CAAiB;QAvB1C,mBAAc,GAAQ,EAAE,CAAC;QACzB,gBAAW,GAAM,KAAK,CAAC;QACvB,sBAAiB,GAAQ,KAAK,CAAC;QAC/B,YAAO,GAAQ,EAAE,CAAC;QAClB,cAAS,GAAQ,EAAE,CAAC;QAOpB,mBAAc,GAAQ,EAAE,CAAC;QAcvB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,MAAW,EAAE,EAAE;YAC3C,IAAG,MAAM,CAAC,IAAI,CAAC,EACf;gBACE,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;gBACvB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;aAChC;YACD,IAAG,MAAM,CAAC,QAAQ,CAAC,EACnB;gBACE,IAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,SAAS,EAChC;oBACE,IAAI,CAAC,gBAAgB,EAAE,CAAC;iBACzB;aACF;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,eAAe;aACjB,SAAS,EAAE;aACX,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE;YACjB,MAAM,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,UAAU,CAAC;YAC1D,OAAO,CAAC,GAAG,CAAC,gBAAgB,OAAO,EAAE,CAAC,CAAC;QACzC,CAAC,CAAC;aACD,KAAK,CAAC,GAAG,EAAE;YACV,OAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;IACR,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;YAE9B,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,OAAY,EAAE,EAAE;gBACtD,IAAG,OAAO,IAAE,IAAI,EAChB;oBACE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;iBAChC;YAEH,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,CAAC,OAAY,EAAE,EAAE;gBAE9D,IAAG,OAAO,IAAI,IAAI,EAClB;oBACE,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC;oBAC9B,IAAI,CAAC,kBAAkB,EAAE,CAAC;iBAC3B;YACH,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,OAAY,EAAE,EAAE;gBACtD,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACzB,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,MAAW,EAAE,EAAE;gBAC3D,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACvB,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,IAAS,EAAE,EAAE;gBAChD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACnB,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,IAAS,EAAE,EAAE;gBAC9C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACrB,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,IAAS,EAAE,EAAE;gBACnD,IAAG,IAAI,IAAI,IAAI,EACf;oBACE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;oBAC3B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;oBACjC,IAAI,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,CAAC,CAAC;oBACtE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;oBAC/C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBAC1B,IAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,IAAI,EAChC;wBACE,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,EAAC,EAAE,EAAC,SAAS,EAAC,IAAI,EAAC,SAAS,EAAC,CAAC;qBACvD;oBACD,OAAO,CAAC,GAAG,CAAC,UAAU,EAAC,IAAI,CAAC,CAAC;oBAC7B,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;oBACxB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBAExB,IAAI,OAAO,GAAG,IAAI,GAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBAClD,OAAO,IAAI,IAAI,GAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAC,QAAQ,CAAC;oBACxD,OAAO,IAAI,oCAAoC,CAAC;oBAChD,OAAO,IAAI,mBAAmB,GAAC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAC,IAAI,CAAC;oBAC7D,OAAO,IAAI,cAAc,GAAC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAC,IAAI,CAAC;oBACtD,OAAO,IAAI,cAAc,GAAC,IAAI,CAAC,MAAM,CAAC,IAAI,GAAC,IAAI,CAAC;oBAChD,OAAO,IAAI,cAAc,GAAC,IAAI,CAAC,IAAI,CAAC,IAAI,GAAC,IAAI,CAAC;oBAC9C,OAAO,IAAI,cAAc,GAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,GAAC,KAAK,CAAC;oBAC3D,OAAO,IAAI,oCAAoC,CAAC;oBAEhD,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAC1C;wBACE,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,GAAC,KAAK,CAAC;wBACnC,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,GAAC,GAAG,GAAC,IAAI,CAAC,GAAG,EAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAC,KAAK,CAAC;qBACvH;oBAED,OAAO,IAAI,oCAAoC,CAAC;oBAChD,OAAO,IAAI,IAAI,CAAC,MAAM,CAAC,uBAAuB,CAAC,GAAC,KAAK,CAAC;oBACtD,OAAO,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAC,KAAK,CAAC;oBACpD,OAAO,IAAI,uCAAuC,CAAC;oBACnD,OAAO,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,GAAC,KAAK,CAAC;oBAC3D,OAAO,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,GAAC,KAAK,CAAC;oBAC3D,OAAO,IAAI,UAAU,CAAC;oBAEtB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;oBAEvB,IAAI,SAAS,GAAG,GAAG,GAAC,IAAI,CAAC,OAAO,CAAC,IAAI,GAAC,WAAW,CAAC;oBAClD,sDAAsD;oBACtD,SAAS,IAAI,iBAAiB,GAAC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAC,KAAK,GAAC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAC,MAAM,CAAC;oBAC5F,SAAS,IAAI,cAAc,GAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,GAAC,MAAM,CAAC;oBAC9D,SAAS,IAAI,qCAAqC,CAAC;oBAEnD,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAC1C;wBACE,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,GAAC,MAAM,CAAC;wBACtC,SAAS,IAAI,IAAI,CAAC,KAAK,GAAC,GAAG,GAAC,IAAI,CAAC,GAAG,GAAC,GAAG,GAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAC,MAAM,CAAC;qBAC9G;oBAED,SAAS,IAAI,qCAAqC,CAAC;oBACnD,SAAS,IAAI,2BAA2B,CAAC;oBACzC,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAC,MAAM,CAAC;oBAC1C,SAAS,IAAI,qCAAqC,CAAC;oBACnD,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,GAAC,KAAK,CAAC;oBAChD,SAAS,IAAI,IAAI,CAAC,OAAO,CAAC,eAAe,GAAC,KAAK,CAAC;oBAChD,2BAA2B;oBAE3B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;iBAC5B;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,YAAY,CAAC,KAAK,EAAC,GAAG;QAEpB,IAAI,QAAQ,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;QAEnD,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED,yBAAyB;QAEzB,qEAAqE;QACnE,IAAI,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACnD,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACd,OAAO,CAAC,CAAC;IACZ,CAAC;IAED,0BAA0B;QAE1B,uDAAuD;QACpD,OAAO,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE,CAAC;IAC5C,CAAC;IAED,MAAM,CAAC,IAAI;QAET,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;QAC9B,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB,IAAI,UAAU,GAAG,CAAC,cAAc,GAAG,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAE1D,IAAI,UAAU,GAAG,EAAE,CAAC;QACpB,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,IAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,EAAC,CAAC,EAAE,EACzC;YACE,UAAU,IAAG,GAAG,CAAC;SAClB;QAED,UAAU,IAAI,UAAU,CAAC;QAEzB,OAAO,UAAU,CAAC;IAEpB,CAAC;IAED,SAAS,CAAC,QAAQ,EAAC,SAAS;QAE1B,IAAI,cAAc,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;QACtC,IAAI,eAAe,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;QAExC,IAAI,cAAc,GAAG,EAAE,CAAC;QACxB,IAAI,SAAS,GAAG,cAAc,CAAC,MAAM,GAAG,eAAe,CAAC,MAAM,CAAC;QAC/D,IAAI,UAAU,GAAG,cAAc,GAAG,SAAS,CAAC;QAE5C,OAAO,CAAC,GAAG,CAAC,GAAG,EAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QACvC,OAAO,CAAC,GAAG,CAAC,GAAG,EAAC,eAAe,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAC,SAAS,CAAC,CAAC;QACnC,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;QAEtC,IAAI,UAAU,GAAG,cAAc,CAAC;QAEhC,KAAI,IAAI,CAAC,GAAC,CAAC,EAAC,CAAC,IAAE,UAAU,EAAC,CAAC,EAAE,EAC7B;YACE,UAAU,IAAI,GAAG,CAAC;SACnB;QAED,UAAU,IAAI,eAAe,CAAC;QAC9B,OAAO,UAAU,CAAC;IACpB,CAAC;IAED,YAAY;QAGT,IAAI,CAAC,yBAAyB,EAAE;aAC/B,SAAS,CAAC,CAAC,GAAE;YACX,2BAA2B;YAC3B,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC;iBACvC,IAAI,CAAC,CAAC,GAAE;gBACR,qBAAqB;gBACrB,+CAA+C;gBAC/C,gBAAgB;gBAChB,mDAAmD;gBACnD,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACf,IAAI,CAAC,0BAA0B,EAAE;YACjC,CAAC,EAAC,GAAG,GAAE;gBACL,oDAAoD;gBACpD,gBAAgB;gBAChB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACnB,CAAC,CAAC;QACN,CAAC,EAAC,GAAG,GAAE;YAEL,sDAAsD;YACtD,gBAAgB;QAClB,CAAC,CAAC;IACL,CAAC;IAEK,YAAY;;YAChB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,QAAQ,EAAE,iBAAiB;gBAC3B,MAAM,EAAE,wBAAwB;gBAChC,MAAM,EAAE;oBACN;wBACE,IAAI,EAAE,cAAc;wBACpB,IAAI,EAAE,KAAK;wBACX,WAAW,EAAE,iBAAiB;qBAC/B;iBACF;gBACD,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,OAAO;wBACb,IAAI,EAAE,QAAQ;wBACd,QAAQ,EAAE,WAAW;wBACrB,OAAO,EAAE,GAAG,EAAE;4BAEZ,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;wBAChC,CAAC;qBACF;oBAAE;wBACD,IAAI,EAAE,OAAO;wBACb,OAAO,EAAE,CAAC,IAAS,EAAE,EAAE;4BAErB,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;4BAC1C,IAAG,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,EAC7B;gCACE,IAAI,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gCACvC,IAAI,SAAS,GAAG,IAAI,GAAC,SAAS,CAAC;6BAChC;4BAED,MAAM,CAAC,IAAI,CAAC,gBAAgB,GAAC,SAAS,GAAC,QAAQ,GAAC,IAAI,CAAC,SAAS,CAAC,CAAC;4BAChE,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;wBAE5B,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAEK,UAAU,CAAC,IAAI,EAAC,CAAC;;YACrB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,QAAQ,EAAE,iBAAiB;gBAC3B,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI;gBACjD,MAAM,EAAE;oBACN;wBACE,IAAI,EAAE,KAAK;wBACX,IAAI,EAAE,QAAQ;wBACd,EAAE,EAAE,KAAK;wBACT,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,GAAG;wBACvC,WAAW,EAAE,KAAK;qBACnB;oBACD;wBACE,IAAI,EAAE,MAAM;wBACZ,EAAE,EAAE,MAAM;wBACV,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI;wBACxC,IAAI,EAAE,UAAU;wBAChB,WAAW,EAAE,SAAS;qBACvB;iBACF;gBACD,2IAA2I;gBAC3I,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,OAAO;wBACb,IAAI,EAAE,QAAQ;wBACd,QAAQ,EAAE,QAAQ;wBAClB,OAAO,EAAE,GAAG,EAAE;4BACZ,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;wBAChC,CAAC;qBACF;oBACD;wBACE,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE,CAAC,IAAI,EAAE,EAAE;4BAChB,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;4BAC/C,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;4BAC5C,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;4BAE9C,IAAI,SAAS,GAAG,IAAI,gEAAW,CAAC;gCAC5B,cAAc,EAAE,kBAAkB;gCAClC,eAAe,EAAE,SAAS,GAAC,IAAI,CAAC,IAAI,CAAC,KAAK;6BAC5C,CAAC,CAAC;4BAEJ,IAAI,OAAO,GAAG,EAAC,OAAO,EAAE,SAAS,EAAC,CAAC;4BAEnC,IAAI,QAAQ,GAAG;gCACH,UAAU,EAAE,IAAI,CAAC,EAAE;gCACnB,OAAO,EAAE,IAAI,CAAC,EAAE;gCAChB,GAAG,EAAE,IAAI,CAAC,GAAG;gCACb,IAAI,EAAE,IAAI,CAAC,IAAI;6BAChB,CAAC;4BAEZ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAC,wBAAwB,EAAE,QAAQ,EAAE,OAAO,CAAC;iCAC5E,SAAS,CAAC,CAAC,IAAS,EAAE,EAAE;gCACvB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gCAElB,IAAG,IAAI,CAAC,MAAM,IAAI,CAAC,EACnB;oCACE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,cAAmB,EAAE,EAAE;wCAC7D,IAAG,cAAc,IAAI,IAAI,EACzB;4CACE,IAAI,YAAY,GAAG,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,CAAC,CAAC;4CACnE,cAAc,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;4CAE5C,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,EAAC,cAAc,CAAC,CAAC;4CAEjD,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,iCAAiC,CAAC,CAAC;4CAC5D,IAAI,CAAC,gBAAgB,EAAE,CAAC;yCACzB;oCACH,CAAC,CAAC,CAAC;iCACJ;qCAED;oCACE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;iCACnB;gCACD,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;4BAC9B,CAAC,EAAE,KAAK,CAAC,EAAE;gCACV,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gCACpB,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;4BACjC,CAAC,CAAC,CAAC;4BAEH,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;wBAC5B,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAEK,UAAU,CAAC,IAAI,EAAC,CAAC;;YACrB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,QAAQ,EAAE,iBAAiB;gBAC3B,MAAM,EAAE,oBAAoB;gBAC5B,OAAO,EAAE,kBAAkB,GAAC,IAAI,CAAC,OAAO,CAAC,IAAI,GAAC,oBAAoB;gBAClE,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,OAAO;wBACb,IAAI,EAAE,QAAQ;wBACd,QAAQ,EAAE,QAAQ;wBAClB,OAAO,EAAE,GAAG,EAAE;4BACZ,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;wBAChC,CAAC;qBACF;oBACD;wBACE,IAAI,EAAE,OAAO;wBACb,OAAO,EAAE,CAAC,WAAW,EAAE,EAAE;4BAEvB,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC;4BAEhD,IAAI,SAAS,GAAG,IAAI,gEAAW,CAAC;gCAC5B,cAAc,EAAE,kBAAkB;gCAClC,eAAe,EAAE,SAAS,GAAC,IAAI,CAAC,IAAI,CAAC,KAAK;6BAC7C,CAAC,CAAC;4BAEH,IAAI,OAAO,GAAG,EAAC,OAAO,EAAE,SAAS,EAAC,CAAC;4BAEnC,IAAI,QAAQ,GAAG;gCACH,OAAO,EAAE,IAAI,CAAC,EAAE;6BACjB,CAAC;4BAEZ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAC,0BAA0B,EAAE,QAAQ,EAAE,OAAO,CAAC;iCAC9E,SAAS,CAAC,CAAC,IAAS,EAAE,EAAE;gCACvB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gCAElB,IAAG,IAAI,CAAC,MAAM,IAAI,CAAC,EACnB;oCACE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,cAAmB,EAAE,EAAE;wCAC7D,IAAG,cAAc,IAAI,IAAI,EACzB;4CACE,IAAI,UAAU,GAAG,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,CAAC,CAAC;4CACjE,cAAc,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;4CAE1C,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,EAAC,cAAc,CAAC,CAAC;4CACjD,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,gCAAgC,CAAC,CAAC;4CAC3D,IAAI,CAAC,gBAAgB,EAAE,CAAC;yCACzB;oCACH,CAAC,CAAC,CAAC;iCACJ;qCAED;oCACE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;iCACnB;gCACD,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;4BAC9B,CAAC,EAAE,KAAK,CAAC,EAAE;gCACV,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gCACpB,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;4BACjC,CAAC,CAAC,CAAC;4BAEH,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;wBAC5B,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAED,OAAO;QAEL,IAAI,IAAI,GAAG,EAAE,CAAC;QACd,IAAI,QAAQ,GAAG,CAAC,CAAC;QACjB,IAAI,QAAQ,GAAG,CAAC,CAAC;QACjB,KAAI,IAAI,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EACzC;YACE,IAAI,CAAC,IAAI,CAAC,EAAC,EAAE,EAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAC,IAAI,EAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAC,IAAI,EAAC,IAAI,CAAC,IAAI,EAAC,KAAK,EAAC,IAAI,CAAC,KAAK,EAAC,GAAG,EAAC,IAAI,CAAC,GAAG,EAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC;YAEpH,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;YACpC,QAAQ,IAAI,IAAI,CAAC,GAAG,CAAC;SACtB;QAED,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,EAAC,IAAI,CAAC,CAAC;QAExC,IAAI,YAAY,GAAG,EAAC,MAAM,EAAE,QAAQ,EAAE,GAAG,EAAE,QAAQ,EAAC,CAAC;QACrD,IAAI,cAAc,GAAG,EAAC,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU,EAAC,CAAC;QAE3D,IAAI,YAAY,GAAO,EAAC,EAAE,EAAC,SAAS,EAAC,IAAI,EAAC,SAAS,EAAC,CAAC;QAErD,IAAG,IAAI,CAAC,OAAO,CAAC,WAAW,IAAI,IAAI,EACnC;YACE,IAAI,YAAY,GAAO,EAAC,EAAE,EAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAC,IAAI,EAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAC,CAAC;SACtF;QAED,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,aAAa,EAAC,EAAC,UAAU,EAAC,IAAI,CAAC,EAAE,EAAC,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW,EAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAC,CAAC,CAAC;QACjI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,cAAc,EAAC,YAAY,CAAC,CAAC;QACpD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,gBAAgB,EAAC,cAAc,CAAC,CAAC;QACxD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,cAAc,EAAC,YAAY,CAAC,CAAC;QAEpD,IAAI,OAAO,GAA4B;YACpC,SAAS,EAAE,MAAM;YACjB,QAAQ,EAAE,GAAG;YACb,cAAc,EAAE,CAAC;YACjB,WAAW,EAAE,CAAC;YACd,QAAQ,EAAE,CAAC;YACX,YAAY,EAAE,CAAC;YACf,cAAc,EAAE,CAAC;YACjB,iBAAiB,EAAE,CAAC;SACpB;QAEH,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;IAE7C,CAAC;IAGD,OAAO;QAEL,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;YAC9C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB;QAEd,IAAI,OAAO,GAA4B;YACpC,SAAS,EAAE,OAAO;YAClB,QAAQ,EAAE,GAAG;YACb,cAAc,EAAE,CAAC;YACjB,WAAW,EAAE,CAAC;YACd,QAAQ,EAAE,CAAC;YACX,YAAY,EAAE,CAAC;YACf,cAAc,EAAE,CAAC;YACjB,iBAAiB,EAAE,CAAC;SACpB;QAEH,IAAG,IAAI,CAAC,iBAAiB,IAAI,KAAK,EAClC;YACE,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;SAC3C;IACH,CAAC;IAED,kBAAkB;QAEhB,IAAI,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,EAAE,CAAC,CAAC;QACrE,IAAG,YAAY,GAAG,CAAC,CAAC,EACpB;YACE,OAAO,IAAI,CAAC;SACb;IACH,CAAC;IAEK,WAAW;;YACf,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,QAAQ,EAAE,iBAAiB;gBAC3B,MAAM,EAAE,MAAM;gBACd,OAAO,EAAE,sCAAsC;gBAC/C,OAAO,EAAE,CAAC,IAAI,CAAC;aAChB,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAEK,aAAa;;YACjB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,QAAQ,EAAE,iBAAiB;gBAC3B,MAAM,EAAE,mBAAmB;gBAC3B,OAAO,EAAE,mCAAmC;gBAC5C,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,OAAO;wBACb,IAAI,EAAE,QAAQ;wBACd,QAAQ,EAAE,WAAW;wBACrB,OAAO,EAAE,CAAC,IAAI,EAAE,EAAE;4BAChB,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;wBACtC,CAAC;qBACF,EAAE;wBACD,IAAI,EAAE,IAAI;wBACV,OAAO,EAAE,GAAG,EAAE;4BACZ,IAAI,CAAC,MAAM,EAAE,CAAC;wBAChB,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAED,MAAM;QAEJ,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,sBAAsB,CAAC,CAAC;QAEnD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,IAAS,EAAE,EAAE;YACnD,IAAG,IAAI,IAAI,IAAI,EACf;gBACE,IAAI,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,CAAC,CAAC;gBACzD,IAAI,CAAC,MAAM,CAAC,YAAY,EAAC,CAAC,CAAC,CAAC;gBAE5B,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,SAAS,EAAC,IAAI,CAAC,CAAC;gBAEvC,IAAI,SAAS,GAAG,IAAI,gEAAW,CAAC;oBAC5B,cAAc,EAAE,kBAAkB;oBAClC,eAAe,EAAE,SAAS,GAAC,IAAI,CAAC,IAAI,CAAC,KAAK;iBAC5C,CAAC,CAAC;gBAEJ,IAAI,OAAO,GAAG,EAAC,OAAO,EAAE,SAAS,EAAC,CAAC;gBACnC,IAAI,QAAQ,GAAG;oBACH,EAAE,EAAE,IAAI,CAAC,EAAE;iBACZ,CAAC;gBAEZ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAC,qBAAqB,EAAE,QAAQ,EAAE,OAAO,CAAC;qBACzE,SAAS,CAAC,CAAC,IAAS,EAAE,EAAE;oBACvB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;oBAElB,IAAG,IAAI,CAAC,MAAM,IAAI,CAAC,EACnB;wBACE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;wBACvC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;4BAC9C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;wBACrC,CAAC,CAAC,CAAC;wBACH,2BAA2B;qBAC5B;yBAED;wBACE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;qBACnB;oBACD,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;gBAC9B,CAAC,EAAE,KAAK,CAAC,EAAE;oBACV,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;oBACpB,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;gBACjC,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC;IAEL,CAAC;CAEH;;YA7nBQ,+DAAc;YACd,+DAAU;YACV,6DAAa;YACb,sDAAM;YACN,gEAAiB;YAAE,uDAAQ;YAE3B,8DAAc;YACd,kFAAe;YACf,gGAAqB;YAJS,8DAAe;;AAWzC,eAAe;IAL3B,+DAAS,CAAC;QACT,QAAQ,EAAE,kBAAkB;QAC5B,oFAAuC;;KAExC,CAAC;GACW,eAAe,CA8mB3B;AA9mB2B;;;;;;;;;;;;;;;;;;;;AChBa;AACc;AAED;AAEtD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kEAAe;KAC3B;CACF,CAAC;IAMW,4BAA4B,SAA5B,4BAA4B;CAAG;AAA/B,4BAA4B;IAJxC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,4BAA4B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBA;AACM;AACF;AAEA;AAEgC;AAEvB;IAWzC,qBAAqB,SAArB,qBAAqB;CAAG;AAAxB,qBAAqB;IATjC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,yFAA4B;SAC7B;QACD,YAAY,EAAE,CAAC,kEAAe,CAAC;KAChC,CAAC;GACW,qBAAqB,CAAG;AAAH;;;;;;;;;;;;;ACnBlC;AAAe,wYAAyU,qBAAqB,myBAAmyB,mBAAmB,oEAAoE,qBAAqB,+IAA+I,kBAAkB,iJAAiJ,oBAAoB,qMAAqM,uBAAuB,mRAAmR,eAAe,sQAAsQ,mBAAmB,cAAc,6BAA6B,KAAK,UAAU,mCAAmC,WAAW,wGAAwG,oDAAoD,2nBAA2nB,mCAAmC,2pCAA2pC,E","file":"booking-edit-booking-edit-module-es2015.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJib29raW5nLWVkaXQucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { StorageService } from '../storage.service';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse} from \"@angular/common/http\";\r\nimport { GlobalService } from '../global.service';\r\nimport { Router } from '@angular/router';\r\nimport { LoadingController, Platform , AlertController} from '@ionic/angular';\r\n\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BluetoothSerial } from '@ionic-native/bluetooth-serial/ngx';\r\nimport { NativePageTransitions, NativeTransitionOptions } from '@ionic-native/native-page-transitions/ngx';\r\n\r\n@Component({\r\n  selector: 'app-booking-edit',\r\n  templateUrl: './booking-edit.page.html',\r\n  styleUrls: ['./booking-edit.page.scss'],\r\n})\r\nexport class BookingEditPage implements OnInit {\r\n\r\n  auth: any;\r\n  id: any;\r\n  source: any;\r\n  booking: any;\r\n  storageBooking: any = [];\r\n  showContent: any=false;\r\n  disabledAnimation: any = false;\r\n  content: any = '';\r\n  contentWA: any = '';\r\n  printer: any;\r\n\r\n  company: any;\r\n  outlet: any;\r\n  user : any;\r\n\r\n  bookingOffline: any = [];\r\n\r\n  constructor(\r\n    private storage: StorageService,\r\n    private http: HttpClient,\r\n    public global: GlobalService,\r\n    private router:Router,\r\n    private loadingController: LoadingController,\r\n    private platform: Platform,\r\n    private route: ActivatedRoute,\r\n    private bluetoothSerial: BluetoothSerial,\r\n    private nativePageTransitions: NativePageTransitions,\r\n    private alertController: AlertController\r\n  ) {\r\n    this.route.params.subscribe((params: any) => {\r\n     if(params['id'])\r\n     {\r\n       this.id = params['id'];\r\n       this.source = params['source'];\r\n     }\r\n     if(params['action'])\r\n     {\r\n       if(params['action'] == 'refresh')\r\n       {\r\n         this.ionViewWillEnter();\r\n       }\r\n     }\r\n   });\r\n\r\n   this.bluetoothSerial\r\n     .isEnabled()\r\n     .then((response) => {\r\n       const message = response.enabled ? 'enabled' : 'disabled';\r\n       console.log(`Bluetooth is ${message}`);\r\n     })\r\n     .catch(() => {\r\n       console.log('Error checking bluetooth status');\r\n     });\r\n   }\r\n\r\n   ngOnInit() {\r\n   }\r\n\r\n   ionViewWillEnter() {\r\n     this.showContent = false;\r\n     this.platform.ready().then(() => {\r\n\r\n       this.storage.getObject('printer').then((printer: any) => {\r\n         if(printer!=null)\r\n         {\r\n           this.printer = printer.address;\r\n         }\r\n\r\n       });\r\n\r\n       this.storage.getObject('booking_offline').then((offline: any) => {\r\n\r\n         if(offline != null)\r\n         {\r\n           this.bookingOffline = offline;\r\n           this.checkThisOrderSync();\r\n         }\r\n       });\r\n\r\n       this.storage.getObject('company').then((company: any) => {\r\n         this.company = company;\r\n       });\r\n\r\n       this.storage.getObject('outlet_active').then((outlet: any) => {\r\n         this.outlet = outlet;\r\n       });\r\n\r\n       this.storage.getObject('user').then((user: any) => {\r\n         this.user = user;\r\n       });\r\n\r\n       this.storage.getObject('auth').then((auth: any) => {\r\n           this.auth = auth;\r\n       });\r\n\r\n       this.storage.getObject('booking').then((data: any) => {\r\n         if(data != null)\r\n         {\r\n           this.storageBooking = data;\r\n           console.log(this.storageBooking);\r\n           var orderIndex = this.storageBooking.findIndex(x => x.id === this.id);\r\n           this.booking = this.storageBooking[orderIndex];\r\n           console.log(this.booking);\r\n           if(this.booking.customer == null)\r\n           {\r\n             this.booking.customer = {id:'Walk-in',name:'Walk-in'};\r\n           }\r\n           console.log(\"data all\",data);\r\n           console.log(orderIndex);\r\n           this.showContent = true;\r\n\r\n           var content = \"\\n\"+this.center(this.company.name);\r\n           content += \"\\n\"+this.center(this.outlet.phone)+\" \\n \\n\";\r\n           content += \"================================\\n\";\r\n           content += \"No book   : BOOK-\"+this.booking.book_number+\"\\n\";\r\n           content += \"Tanggal   : \"+this.booking.book_time+\"\\n\";\r\n           content += \"Outlet    : \"+this.outlet.name+\"\\n\";\r\n           content += \"Kasir     : \"+this.user.name+\"\\n\";\r\n           content += \"Pelanggan : \"+this.booking.customer.name+\" \\n\";\r\n           content += \"--------------------------------\\n\";\r\n\r\n           for (let item of this.booking.booking_item)\r\n           {\r\n             content += item.product.name+\" \\n\";\r\n             content += this.leftRight(item.price+\"x\"+item.qty,this.global.currency(this.subtotalItem(item.price,item.qty)))+\" \\n\";\r\n           }\r\n\r\n           content += \"--------------------------------\\n\";\r\n           content += this.center('No meja / referensi :')+' \\n';\r\n           content += this.center(this.booking.book_ref)+' \\n';\r\n           content += \"--------------------------------\\n \\n\";\r\n           content += this.center(this.company.format_receipt1)+\" \\n\";\r\n           content += this.center(this.company.format_receipt2)+\" \\n\";\r\n           content += \"\\n \\n \\n\";\r\n\r\n           this.content = content;\r\n\r\n           var contentWA = \"*\"+this.company.name+\"* %0a %0a\";\r\n           // contentWA += \"================================%0a\";\r\n           contentWA += \"No order *BOOK-\"+this.booking.book_number+\"* (\"+this.booking.book_time+\")%0a\";\r\n           contentWA += \"Pelanggan : \"+this.booking.customer.name+\" %0a\";\r\n           contentWA += \"--------------------------------%0a\";\r\n\r\n           for (let item of this.booking.booking_item)\r\n           {\r\n             contentWA += item.product.name+\" %0a\";\r\n             contentWA += item.price+\"x\"+item.qty+\"=\"+this.global.currency(this.subtotalItem(item.price,item.qty))+\" %0a\";\r\n           }\r\n\r\n           contentWA += \"--------------------------------%0a\";\r\n           contentWA += \"No meja / referensi : %0a\";\r\n           contentWA += this.booking.book_ref+' %0a';\r\n           contentWA += \"--------------------------------%0a\";\r\n           contentWA += this.company.format_receipt1+\"%0a\";\r\n           contentWA += this.company.format_receipt2+\"%0a\";\r\n           // contentWA += \"\\n \\n \\n\";\r\n\r\n           this.contentWA = contentWA;\r\n         }\r\n       });\r\n     });\r\n   }\r\n\r\n   subtotalItem(price,qty)\r\n   {\r\n     var subtotal = parseFloat(price) * parseFloat(qty);\r\n\r\n     return subtotal;\r\n   }\r\n\r\n   connectToBluetoothPrinter()\r\n   {\r\n   //This will connect to bluetooth printer via the mac address provided\r\n     var a = this.bluetoothSerial.connect(this.printer);\r\n     console.log(a);\r\n      return a;\r\n   }\r\n\r\n   disconnectBluetoothPrinter()\r\n   {\r\n   //This will disconnect the current bluetooth connection\r\n      return this.bluetoothSerial.disconnect();\r\n   }\r\n\r\n   center(text)\r\n   {\r\n     var textString = String(text);\r\n     var paperWidthChar = 31;\r\n     var countSpace = (paperWidthChar - textString.length) / 2;\r\n\r\n     var textResult = '';\r\n     for(var i=1;i<=Math.floor(countSpace);i++)\r\n     {\r\n       textResult +=\" \";\r\n     }\r\n\r\n     textResult += textString;\r\n\r\n     return textResult;\r\n\r\n   }\r\n\r\n   leftRight(leftText,rightText)\r\n   {\r\n     var leftTextString = String(leftText);\r\n     var rightTextString = String(rightText);\r\n\r\n     var paperWidthChar = 31;\r\n     var countChar = leftTextString.length + rightTextString.length;\r\n     var countSpace = paperWidthChar - countChar;\r\n\r\n     console.log('L',leftTextString.length);\r\n     console.log('R',rightTextString.length);\r\n     console.log('countChar',countChar);\r\n     console.log('countSpace', countSpace);\r\n\r\n     var textResult = leftTextString;\r\n\r\n     for(var i=1;i<=countSpace;i++)\r\n     {\r\n       textResult += \" \";\r\n     }\r\n\r\n     textResult += rightTextString;\r\n     return textResult;\r\n   }\r\n\r\n   printReceipt()\r\n   {\r\n\r\n      this.connectToBluetoothPrinter()\r\n      .subscribe(_=>{\r\n         //2. Connected successfully\r\n         this.bluetoothSerial.write(this.content)\r\n         .then(_=>{\r\n          //3. Print successful\r\n          //If you want to tell user print is successful,\r\n          //handle it here\r\n          //4. IMPORTANT! Disconnect bluetooth after printing\r\n          console.log(_);\r\n          this.disconnectBluetoothPrinter()\r\n          },err=>{\r\n            //If there is an error printing to bluetooth printer\r\n            //handle it here\r\n            console.log(err);\r\n          })\r\n      },err=>{\r\n\r\n        //If there is an error connecting to bluetooth printer\r\n        //handle it here\r\n      })\r\n   }\r\n\r\n   async sendWAPrompt() {\r\n     const alert = await this.alertController.create({\r\n       cssClass: 'my-custom-class',\r\n       header: 'Kirim nota ke Whatsapp',\r\n       inputs: [\r\n         {\r\n           name: 'phone_number',\r\n           type: 'tel',\r\n           placeholder: 'Nomor WA tujuan'\r\n         }\r\n       ],\r\n       buttons: [\r\n         {\r\n           text: 'Batal',\r\n           role: 'cancel',\r\n           cssClass: 'secondary',\r\n           handler: () => {\r\n\r\n             console.log('Confirm Cancel');\r\n           }\r\n         }, {\r\n           text: 'Kirim',\r\n           handler: (data: any) => {\r\n\r\n             var numberStr = String(data.phone_number);\r\n             if(numberStr.charAt(0) == '0')\r\n             {\r\n               var numberStr = numberStr.substring(0);\r\n               var numberStr = '62'+numberStr;\r\n             }\r\n\r\n             window.open(\"https://wa.me/\"+numberStr+\"?text=\"+this.contentWA);\r\n             console.log('Confirm Ok');\r\n\r\n           }\r\n         }\r\n       ]\r\n     });\r\n\r\n     await alert.present();\r\n   }\r\n\r\n   async editDetail(item,i) {\r\n     const alert = await this.alertController.create({\r\n       cssClass: 'my-custom-class',\r\n       header: this.booking.booking_item[i].product.name,\r\n       inputs: [\r\n         {\r\n           name: 'qty',\r\n           type: 'number',\r\n           id: 'qty',\r\n           value: this.booking.booking_item[i].qty,\r\n           placeholder: 'Qty'\r\n         },\r\n         {\r\n           name: 'note',\r\n           id: 'note',\r\n           value: this.booking.booking_item[i].note,\r\n           type: 'textarea',\r\n           placeholder: 'Catatan'\r\n         },\r\n       ],\r\n       // message: '<ion-button (click)=\"deleteItem('+item.id+')\"><ion-text color=\"danger\">Hapus produk ini dari pesanan</ion-text></ion-button>',\r\n       buttons: [\r\n         {\r\n           text: 'Batal',\r\n           role: 'cancel',\r\n           cssClass: 'danger',\r\n           handler: () => {\r\n             console.log('Confirm Cancel');\r\n           }\r\n         },\r\n         {\r\n           text: 'Simpan',\r\n           handler: (data) => {\r\n             this.global.loadingPresent('mengubah item...');\r\n             this.booking.booking_item[i].qty = data.qty;\r\n             this.booking.booking_item[i].note = data.note;\r\n\r\n             var reqHeader = new HttpHeaders({\r\n                 'Content-Type': 'application/json',\r\n                 'Authorization': 'Bearer '+this.auth.token\r\n              });\r\n\r\n             let options = {headers: reqHeader};\r\n\r\n             let postData = {\r\n                         booking_id: this.id,\r\n                         item_id: item.id,\r\n                         qty: data.qty,\r\n                         note: data.note\r\n                       };\r\n\r\n             this.http.post(this.global.base_url+'auth/booking/edit_item', postData, options)\r\n                .subscribe((data: any) => {\r\n                  console.log(data);\r\n\r\n                  if(data.status == 0)\r\n                  {\r\n                    this.storage.getObject('booking').then((storageBooking: any) => {\r\n                      if(storageBooking != null)\r\n                      {\r\n                        var bookingIndex = storageBooking.findIndex(x => x.id === this.id);\r\n                        storageBooking[bookingIndex] = data.booking;\r\n\r\n                        this.storage.setObject('booking',storageBooking);\r\n\r\n                        this.global.toastPresent('Item booking berhasil disimpan!');\r\n                        this.ionViewWillEnter();\r\n                      }\r\n                    });\r\n                  }\r\n                  else\r\n                  {\r\n                    console.log(data);\r\n                  }\r\n                  this.global.loadingDismiss();\r\n                 }, error => {\r\n                  console.log(error);\r\n                 this.global.loadingDismiss();\r\n             });\r\n\r\n             console.log('Confirm Ok');\r\n           }\r\n         }\r\n       ]\r\n     });\r\n\r\n     await alert.present();\r\n   }\r\n\r\n   async deleteItem(item,i) {\r\n     const alert = await this.alertController.create({\r\n       cssClass: 'my-custom-class',\r\n       header: 'Hapus item pesanan',\r\n       message: 'Yakin menghapus '+item.product.name+' dari pesanan ini?',\r\n       buttons: [\r\n         {\r\n           text: 'Batal',\r\n           role: 'cancel',\r\n           cssClass: 'danger',\r\n           handler: () => {\r\n             console.log('Confirm Cancel');\r\n           }\r\n         },\r\n         {\r\n           text: 'Hapus',\r\n           handler: (dataHandler) => {\r\n\r\n             this.global.loadingPresent('menghapus item...');\r\n\r\n             var reqHeader = new HttpHeaders({\r\n                 'Content-Type': 'application/json',\r\n                 'Authorization': 'Bearer '+this.auth.token\r\n             });\r\n\r\n             let options = {headers: reqHeader};\r\n\r\n             let postData = {\r\n                         item_id: item.id,\r\n                       };\r\n\r\n             this.http.post(this.global.base_url+'auth/booking/delete_item', postData, options)\r\n                .subscribe((data: any) => {\r\n                  console.log(data);\r\n\r\n                  if(data.status == 0)\r\n                  {\r\n                    this.storage.getObject('booking').then((storageBooking: any) => {\r\n                      if(storageBooking != null)\r\n                      {\r\n                        var orderIndex = storageBooking.findIndex(x => x.id === this.id);\r\n                        storageBooking[orderIndex] = data.booking;\r\n\r\n                        this.storage.setObject('booking',storageBooking);\r\n                        this.global.toastPresent('Item pesanan berhasil dihapus!');\r\n                        this.ionViewWillEnter();\r\n                      }\r\n                    });\r\n                  }\r\n                  else\r\n                  {\r\n                    console.log(data);\r\n                  }\r\n                  this.global.loadingDismiss();\r\n                 }, error => {\r\n                  console.log(error);\r\n                 this.global.loadingDismiss();\r\n             });\r\n\r\n             console.log('Confirm Ok');\r\n           }\r\n         }\r\n       ]\r\n     });\r\n\r\n     await alert.present();\r\n   }\r\n\r\n   process()\r\n   {\r\n     let cart = [];\r\n     let subtotal = 0;\r\n     let totalQty = 0;\r\n     for(let item of this.booking.booking_item)\r\n     {\r\n       cart.push({id:item.product.id,name:item.product.name,cost:item.cost,price:item.price,qty:item.qty,note: item.note});\r\n\r\n       subtotal += (item.price * item.qty);\r\n       totalQty += item.qty;\r\n     }\r\n\r\n     this.storage.setObject('pos_cart',cart);\r\n\r\n     var pos_subtotal = {amount: subtotal, qty: totalQty};\r\n     var pos_order_type = {order_type: this.booking.order_type};\r\n\r\n     let pos_customer:any = {id:'Walk-in',name:'Walk-in'};\r\n\r\n     if(this.booking.customer_id != null)\r\n     {\r\n       let pos_customer:any = {id:this.booking.customer_id,name:this.booking.customer.name};\r\n     }\r\n\r\n     this.storage.setObject('pos_booking',{booking_id:this.id,book_number: this.booking.book_number,book_ref: this.booking.book_ref});\r\n     this.storage.setObject('pos_subtotal',pos_subtotal);\r\n     this.storage.setObject('pos_order_type',pos_order_type);\r\n     this.storage.setObject('pos_customer',pos_customer);\r\n\r\n     let options: NativeTransitionOptions = {\r\n        direction: 'left',\r\n        duration: 300,\r\n        slowdownfactor: 0,\r\n        slidePixels: 0,\r\n        iosdelay: 0,\r\n        androiddelay: 0,\r\n        fixedPixelsTop: 0,\r\n        fixedPixelsBottom: 0\r\n       }\r\n\r\n     this.nativePageTransitions.slide(options);\r\n\r\n     this.router.navigate(['/payment-options']);\r\n\r\n   }\r\n\r\n\r\n   gotoPOS()\r\n   {\r\n     this.disabledAnimation = true;\r\n     this.router.navigate(['/tabs/blank']).then(() => {\r\n       this.router.navigate(['/tabs/tab-pos']);\r\n     });\r\n   }\r\n\r\n   ionViewWillLeave()\r\n   {\r\n     let options: NativeTransitionOptions = {\r\n        direction: 'right',\r\n        duration: 300,\r\n        slowdownfactor: 3,\r\n        slidePixels: 0,\r\n        iosdelay: 0,\r\n        androiddelay: 0,\r\n        fixedPixelsTop: 0,\r\n        fixedPixelsBottom: 0\r\n       }\r\n\r\n     if(this.disabledAnimation == false)\r\n     {\r\n       this.nativePageTransitions.slide(options);\r\n     }\r\n   }\r\n\r\n   checkThisOrderSync()\r\n   {\r\n     var offlineIndex = this.bookingOffline.findIndex(y => y === this.id);\r\n     if(offlineIndex > -1)\r\n     {\r\n       return true;\r\n     }\r\n   }\r\n\r\n   async infoOffline() {\r\n     const alert = await this.alertController.create({\r\n       cssClass: 'my-custom-class',\r\n       header: 'Info',\r\n       message: 'Transaksi ini belum tersinkronisasi!',\r\n       buttons: ['OK']\r\n     });\r\n\r\n     await alert.present();\r\n   }\r\n\r\n   async cancelConfirm() {\r\n     const alert = await this.alertController.create({\r\n       cssClass: 'my-custom-class',\r\n       header: 'Konfirmasi hapus!',\r\n       message: 'Anda yakin menghapus booking ini?',\r\n       buttons: [\r\n         {\r\n           text: 'Tidak',\r\n           role: 'cancel',\r\n           cssClass: 'secondary',\r\n           handler: (blah) => {\r\n             console.log('Confirm Cancel: blah');\r\n           }\r\n         }, {\r\n           text: 'Ya',\r\n           handler: () => {\r\n             this.cancel();\r\n           }\r\n         }\r\n       ]\r\n     });\r\n\r\n     await alert.present();\r\n   }\r\n\r\n   cancel()\r\n   {\r\n     this.global.loadingPresent('menghapus booking...');\r\n\r\n     this.storage.getObject('booking').then((data: any) => {\r\n       if(data != null)\r\n       {\r\n         var bookingIndex = data.findIndex(x => x.id === this.id);\r\n         data.splice(bookingIndex,1);\r\n\r\n         this.storage.setObject('booking',data);\r\n\r\n         var reqHeader = new HttpHeaders({\r\n             'Content-Type': 'application/json',\r\n             'Authorization': 'Bearer '+this.auth.token\r\n          });\r\n\r\n         let options = {headers: reqHeader};\r\n         let postData = {\r\n                     id: this.id\r\n                   };\r\n\r\n         this.http.post(this.global.base_url+'auth/booking/delete', postData, options)\r\n            .subscribe((data: any) => {\r\n              console.log(data);\r\n\r\n              if(data.status == 0)\r\n              {\r\n                this.global.toastPresent(data.message);\r\n                this.router.navigate(['/tabs/blank']).then(() => {\r\n                  this.router.navigate(['/booking']);\r\n                });\r\n                // this.ionViewWillEnter();\r\n              }\r\n              else\r\n              {\r\n                console.log(data);\r\n              }\r\n              this.global.loadingDismiss();\r\n             }, error => {\r\n              console.log(error);\r\n             this.global.loadingDismiss();\r\n         });\r\n       }\r\n     });\r\n\r\n   }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { BookingEditPage } from './booking-edit.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BookingEditPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class BookingEditPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { BookingEditPageRoutingModule } from './booking-edit-routing.module';\r\n\r\nimport { BookingEditPage } from './booking-edit.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    BookingEditPageRoutingModule\r\n  ],\r\n  declarations: [BookingEditPage]\r\n})\r\nexport class BookingEditPageModule {}\r\n","export default \"<ion-header mode=\\\"ios\\\" *ngIf=\\\"showContent\\\">\\r\\n\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button fill=\\\"link\\\" [routerLink]=\\\"['/booking-detail/'+id+'/list']\\\"><ion-icon name=\\\"arrow-back-outline\\\"></ion-icon></ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title *ngIf=\\\"showContent\\\">Ubah BOOK-{{booking.book_number}}</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button (click)=\\\"infoOffline()\\\" fill=\\\"link\\\" *ngIf=\\\"checkThisOrderSync()\\\">\\r\\n        <ion-icon name=\\\"alert-circle-outline\\\" color=\\\"danger\\\" ></ion-icon>\\r\\n      </ion-button>\\r\\n      <ion-button (click)=\\\"cancelConfirm()\\\" fill=\\\"link\\\" *ngIf=\\\"booking.status == 'Completed' || booking.status == 'Pending'\\\">\\r\\n        <ion-icon name=\\\"close-circle-outline\\\" color=\\\"danger\\\" ></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content mode=\\\"ios\\\" class=\\\"ion-padding\\\" *ngIf=\\\"showContent\\\">\\r\\n\\r\\n  <ion-card>\\r\\n    <ion-card-content class=\\\"ion-no-padding\\\">\\r\\n      <ion-list>\\r\\n        <ion-item lines=\\\"full\\\"><ion-label class=\\\"ion-text-wrap\\\">No booking <br/><small>{{booking.book_time}}</small></ion-label><ion-note slot=\\\"end\\\" color=\\\"primary\\\">BOOK-{{booking.book_number}}</ion-note></ion-item>\\r\\n        <ion-item lines=\\\"full\\\"><small>No meja /referensi</small> <ion-note slot=\\\"end\\\" color=\\\"primary\\\"><small>{{booking.book_ref}}</small></ion-note></ion-item>\\r\\n        <ion-item lines=\\\"full\\\"><small>Tipe pesanan</small> <ion-note slot=\\\"end\\\" color=\\\"primary\\\"><small>{{booking.order_type}}</small></ion-note></ion-item>\\r\\n        <ion-item lines=\\\"none\\\" [routerLink]=\\\"['/select-customer/booking-edit/'+id]\\\"><small>Pelanggan</small> <ion-note slot=\\\"end\\\" color=\\\"primary\\\"><small>{{booking.customer.name}}</small></ion-note></ion-item>\\r\\n        </ion-list>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n\\r\\n  <ion-card>\\r\\n    <ion-card-content class=\\\"ion-no-padding\\\">\\r\\n      <ion-list>\\r\\n        <ion-item  button lines=\\\"full\\\" *ngFor=\\\"let item of booking.booking_item; let i = index;\\\">\\r\\n          <ion-button slot=\\\"start\\\" color=\\\"danger\\\" fill=\\\"link\\\" (click)=\\\"deleteItem(item,i)\\\"><ion-icon color=\\\"danger\\\" name=\\\"trash-outline\\\"></ion-icon></ion-button>\\r\\n          <ion-label (click)=\\\"editDetail(item,i)\\\" class=\\\"ion-text-wrap\\\">{{item.product.name}}<small><br/>{{global.currency(item.price)}} x {{item.qty}} <br/><span style=\\\"color:#666\\\">{{item.note}}</span></small></ion-label>\\r\\n          <ion-note (click)=\\\"editDetail(item,i)\\\" slot=\\\"end\\\"><small>{{global.currency(subtotalItem(item.price,item.qty))}}</small></ion-note>\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n\\r\\n      <ion-button lines=\\\"none\\\" expand=\\\"block\\\" fill=\\\"link\\\" color=\\\"primary\\\" [routerLink]=\\\"['/select-product/booking-edit/'+id+'/'+booking.order_type]\\\"><ion-icon name=\\\"add-outline\\\" slot=\\\"start\\\"></ion-icon> <ion-text color=\\\"primary\\\">Tambah item</ion-text></ion-button>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n\\r\\n  <ion-card>\\r\\n    <ion-card-content class=\\\"ion-no-padding\\\">\\r\\n      <ion-list>\\r\\n\\r\\n        <ion-item lines=\\\"none\\\" class=\\\"item-small\\\"><small><strong>Subtotal</strong></small><ion-note slot=\\\"end\\\" color=\\\"dark\\\"><small>{{global.currency(booking.subtotal)}}</small></ion-note></ion-item>\\r\\n\\r\\n      </ion-list>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer class=\\\"ion-padding\\\" mode=\\\"ios\\\" *ngIf=\\\"showContent\\\">\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col *ngIf=\\\"booking.payment_channel == 'QRIS Online' && booking.status == 'Pending'\\\"><ion-button expand=\\\"block\\\" fill=\\\"outline\\\" [routerLink]=\\\"['/orders-payment-qris/'+id]\\\">\\r\\n        <ion-icon name=\\\"qr-code-outline\\\" slot=\\\"start\\\" ></ion-icon>\\r\\n         Bayar QRIS\\r\\n      </ion-button>\\r\\n      </ion-col>\\r\\n      <ion-col *ngIf=\\\"booking.status == 'Completed'\\\"><ion-button expand=\\\"block\\\" fill=\\\"outline\\\" (click)=\\\"sendWAPrompt()\\\">\\r\\n        <ion-icon name=\\\"arrow-redo-outline\\\" slot=\\\"start\\\" ></ion-icon>\\r\\n        Kirim Whatsapp\\r\\n      </ion-button>\\r\\n      </ion-col>\\r\\n\\r\\n\\r\\n\\r\\n      <ion-col><ion-button expand=\\\"block\\\" color=\\\"primary\\\" [routerLink]=\\\"['/booking-detail/'+booking.id+'/edit']\\\">\\r\\n        <ion-icon name=\\\"checkmark-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        Selesai\\r\\n      </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-footer>\\r\\n\";"],"sourceRoot":"webpack:///"}