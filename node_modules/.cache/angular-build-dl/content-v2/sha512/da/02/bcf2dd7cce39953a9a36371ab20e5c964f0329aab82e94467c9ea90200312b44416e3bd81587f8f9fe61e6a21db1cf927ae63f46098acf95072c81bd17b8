{"version":3,"sources":["webpack:///src/app/booking/booking.page.html","webpack:///src/app/booking/booking.page.scss","webpack:///src/app/booking/booking-routing.module.ts","webpack:///src/app/booking/booking.page.ts","webpack:///src/app/booking/booking.module.ts"],"names":["routes","path","component","BookingPageRoutingModule","imports","forChild","exports","BookingPage","storage","http","global","router","loadingController","platform","route","nativePageTransitions","menu","alertController","company","name","activeOutlet","id","bookingOffline","showContent","showUser","start_date","parsingDate","getFullYear","getMonth","end_date","getDateOnlyNow","initialize","ready","then","getObject","data","auth","user","thisUser","level","outlet","getOfflineCompany","getOfflineOutlet","totalBookingOffline","length","storageBooking","syncUpOfflineData","storageOutlet","filter","status","console","log","getActiveOutlet","storageCompany","checkExpiredAccount","expired_at","navigate","toastPresent","reqHeader","token","options","headers","post","base_url","subscribe","setObject","error","close","orderId","order","find","x","offlineIndex","findIndex","y","splice","toastPresentTop","getData","mode","postdata","outlet_id","booking","bookingSearch","direction","duration","slowdownfactor","slidePixels","iosdelay","androiddelay","fixedPixelsTop","fixedPixelsBottom","slide","evt","searchTerm","srcElement","value","current","book_number","toLowerCase","indexOf","create","cssClass","header","message","buttons","text","role","handler","blah","logout","alert","present","clear","enable","open","selector","template","BookingPageModule","declarations"],"mappings":"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","file":"booking-booking-module-es5.js","sourcesContent":["export default \"<ion-menu side=\\\"start\\\" menuId=\\\"bookingleft\\\" contentId=\\\"bookingleft\\\" mode=\\\"ios\\\" swipe-gesture=\\\"true\\\">\\r\\n\\r\\n  <ion-content id=\\\"bookingleft\\\">\\r\\n\\r\\n    <div class=\\\"ion-padding\\\">\\r\\n      <ion-text color=\\\"primary\\\">{{company.name}}</ion-text>\\r\\n      </div>\\r\\n    <ion-item button color=\\\"primary\\\" detail=\\\"false\\\">\\r\\n        <ion-icon name=\\\"storefront-outline\\\" size=\\\"small\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        <ion-label>{{activeOutlet.name}}</ion-label>\\r\\n        <ion-note slot=\\\"end\\\">Aktif</ion-note>\\r\\n    </ion-item>\\r\\n    <ion-item-divider>\\r\\n      <small>Daftar outlet</small>\\r\\n    </ion-item-divider>\\r\\n\\r\\n    <ion-item *ngFor=\\\"let item of outlet\\\" class=\\\"clickable ion-clickable\\\" (click)=\\\"changeOutlet(item.outlet)\\\" button>\\r\\n        <ion-icon name=\\\"storefront-outline\\\" size=\\\"small\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        <ion-label><small>{{item.outlet.name}}</small></ion-label>\\r\\n    </ion-item>\\r\\n\\r\\n  </ion-content>\\r\\n  <ion-footer mode=\\\"ios\\\" class=\\\"ion-padding\\\" *ngIf=\\\"showContent\\\">\\r\\n      <div class=\\\"ion-text-center\\\" *ngIf=\\\"showUser\\\">{{name}} ({{level}})</div>\\r\\n      <ion-button size=\\\"small\\\" color=\\\"danger\\\" expand=\\\"block\\\" fill=\\\"link\\\" (click)=\\\"confirmLogout()\\\"><ion-icon name=\\\"power-outline\\\" slot=\\\"start\\\"></ion-icon> <ion-text color=\\\"danger\\\">Keluar dari akun</ion-text></ion-button>\\r\\n  </ion-footer>\\r\\n</ion-menu>\\r\\n\\r\\n<ion-header mode=\\\"ios\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\" style=\\\"margin-top:10px;margin-left:15px;\\\">\\r\\n      <ion-button size=\\\"small\\\" (click)=\\\"openMenuLeft()\\\"><ion-icon name=\\\"storefront-outline\\\"></ion-icon></ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-searchbar style=\\\"margin-top:10px;margin-left:5px;\\\" (ionInput)=\\\"filterList($event)\\\" placeholder=\\\"Cari nomor booking\\\"></ion-searchbar>\\r\\n    <ion-buttons slot=\\\"end\\\" *ngIf=\\\"totalBookingOffline > 0\\\">\\r\\n      <ion-button color=\\\"danger\\\" fill=\\\"link\\\" (click)=\\\"syncUpOfflineData()\\\">\\r\\n        <ion-icon name=\\\"sync-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        <ion-badge color=\\\"danger\\\">{{totalBookingOffline}}</ion-badge></ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"6\\\" size-xs=\\\"6\\\" size-sm=\\\"5\\\">\\r\\n        <ion-item lines=\\\"full\\\">\\r\\n          <ion-label><small>Dari</small></ion-label>\\r\\n          <ion-datetime style=\\\"font-size:13px;\\\" displayFormat=\\\"DD-MMM-YYYY\\\"  pickerFormat=\\\"DD-MMM-YYYY\\\" display-timezone=\\\"Asia/Jakarta\\\" color=\\\"primary\\\" [(ngModel)]=\\\"start_date\\\"></ion-datetime>\\r\\n        </ion-item>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"6\\\" size-xs=\\\"6\\\" size-sm=\\\"5\\\">\\r\\n        <ion-item lines=\\\"full\\\">\\r\\n          <ion-label><small>Sampai</small></ion-label>\\r\\n          <ion-datetime style=\\\"font-size:13px;\\\" displayFormat=\\\"DD-MMM-YYYY\\\" pickerFormat=\\\"DD-MMM-YYYY\\\"  display-timezone=\\\"Asia/Jakarta\\\" color=\\\"primary\\\" [(ngModel)]=\\\"end_date\\\" min=\\\"{{start_date}}\\\" (ionChange)=\\\"initialize()\\\"></ion-datetime>\\r\\n        </ion-item>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n\\r\\n</ion-header>\\r\\n\\r\\n<ion-content mode=\\\"ios\\\">\\r\\n\\r\\n  <div style=\\\"margin-top:200px;text-align:center;\\\" *ngIf=\\\"!showContent\\\">\\r\\n    <ion-spinner name=\\\"crescent\\\"></ion-spinner>\\r\\n  </div>\\r\\n\\r\\n  <ion-list *ngIf=\\\"showContent\\\">\\r\\n    <ion-item *ngFor=\\\"let item of bookingSearch\\\" (click)=\\\"detail(item.id)\\\" button>\\r\\n      <ion-label><small><ion-text color=\\\"primary\\\">BOOK-{{item.book_number}}</ion-text>\\r\\n        <br/>\\r\\n          {{item.book_time}}</small>\\r\\n      </ion-label>\\r\\n\\r\\n      <ion-text slot=\\\"end\\\" color=\\\"dark\\\"><ion-icon name=\\\"alert-circle-outline\\\" color=\\\"danger\\\" *ngIf=\\\"checkThisOrderSync(item.id)\\\"></ion-icon>&nbsp;{{item.book_ref}}</ion-text>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n</ion-content>\\r\\n\";","export default \".clickable {\\n  pointer-events: auto !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXGJvb2tpbmcucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0EsK0JBQUE7QUFDQSIsImZpbGUiOiJib29raW5nLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jbGlja2FibGUge1xyXG5wb2ludGVyLWV2ZW50czogYXV0byAhaW1wb3J0YW50O1xyXG59XHJcbiJdfQ== */\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { BookingPage } from './booking.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BookingPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class BookingPageRoutingModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { StorageService } from '../storage.service';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse} from \"@angular/common/http\";\r\nimport { GlobalService } from '../global.service';\r\nimport { Router } from '@angular/router';\r\nimport { LoadingController, Platform, MenuController, AlertController } from '@ionic/angular';\r\n\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\nimport { NativePageTransitions, NativeTransitionOptions } from '@ionic-native/native-page-transitions/ngx';\r\n\r\n@Component({\r\n  selector: 'app-booking',\r\n  templateUrl: './booking.page.html',\r\n  styleUrls: ['./booking.page.scss'],\r\n})\r\nexport class BookingPage implements OnInit {\r\n\r\n  auth: any;\r\n  user: any;\r\n  name: any;\r\n  level: any;\r\n\r\n  booking: any;\r\n  storageBooking: any;\r\n  bookingSearch: any;\r\n  outlet: any;\r\n  storageOutlet: any;\r\n\r\n  company: any = {name:''};\r\n  storageCompany: any;\r\n\r\n  activeOutlet: any = {id:'',name:''};\r\n  bookingOffline: any = [];\r\n  totalBookingOffline: any;\r\n\r\n  start_date: any;\r\n  end_date:any;\r\n\r\n  showContent: any = false;\r\n  showUser: any = false;\r\n\r\n  constructor(\r\n    private storage: StorageService,\r\n    private http: HttpClient,\r\n    public global: GlobalService,\r\n    private router:Router,\r\n    private loadingController: LoadingController,\r\n    private platform: Platform,\r\n    private route: ActivatedRoute,\r\n    private nativePageTransitions: NativePageTransitions,\r\n    private menu: MenuController,\r\n    private alertController: AlertController\r\n  ) {\r\n\r\n    this.start_date = this.global.parsingDate(this.global.getFullYear()+'-'+this.global.getMonth()+'-01');\r\n    this.end_date = this.global.getDateOnlyNow();\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.initialize();\r\n  }\r\n\r\n  initialize()\r\n  {\r\n    this.showContent = false;\r\n    this.platform.ready().then(() => {\r\n\r\n      this.storage.getObject('auth').then((data: any) => {\r\n          this.auth =  data;\r\n          this.storage.getObject('user').then((user) => {\r\n              let thisUser: any = user;\r\n              this.user = user;\r\n              this.name = thisUser.name;\r\n              this.level = thisUser.level;\r\n              this.showUser = true;\r\n            });\r\n      });\r\n\r\n      this.storage.getObject('outlet_active').then((data: any) => {\r\n          this.outlet =  data;\r\n      });\r\n\r\n      this.getOfflineCompany();\r\n      this.getOfflineOutlet();\r\n\r\n      this.storage.getObject('booking_offline').then((data: any) => {\r\n\r\n          if(data != null)\r\n          {\r\n            this.bookingOffline =  data;\r\n            this.totalBookingOffline = this.bookingOffline.length;\r\n          }\r\n\r\n          this.storage.getObject('booking').then((data: any) => {\r\n            if(data != null)\r\n            {\r\n              this.storageBooking = data;\r\n              this.syncUpOfflineData();\r\n            }\r\n            else\r\n            {\r\n              this.syncUpOfflineData();\r\n            }\r\n          });\r\n\r\n      });\r\n    });\r\n  }\r\n\r\n  getOfflineOutlet()\r\n  {\r\n    this.storage.getObject('outlet').then((data: any) => {\r\n      if(data != null)\r\n      {\r\n        this.storageOutlet = data;\r\n        this.outlet = this.storageOutlet.filter(outlet => outlet.outlet.status === 'Active');\r\n      }\r\n      console.log(\"Offline outlet\",data);\r\n\r\n\r\n      this.getActiveOutlet();\r\n\r\n    });\r\n  }\r\n\r\n  getOfflineCompany()\r\n  {\r\n    this.storage.getObject('company').then((data: any) => {\r\n      if(data != null)\r\n      {\r\n        this.storageCompany = data;\r\n        this.company = this.storageCompany;\r\n        this.checkExpiredAccount();\r\n      }\r\n      console.log(data);\r\n    });\r\n  }\r\n\r\n  checkExpiredAccount()\r\n  {\r\n\r\n      this.storage.getObject('user').then((data: any) => {\r\n        if(data != null)\r\n        {\r\n          this.user = data.user;\r\n          if(this.company.expired_at < this.global.getDateOnlyNow())\r\n          {\r\n            if(data.level == 'Owner')\r\n            {\r\n              this.router.navigate(['/subscription']);\r\n              this.global.toastPresent('masa berlaku paket sudah habis, silahkan lakukan pembelian paket berlangganan!');\r\n            }\r\n            else\r\n            {\r\n              this.router.navigate(['/inactive']);\r\n            }\r\n          }\r\n        }\r\n        console.log(data);\r\n      });\r\n\r\n  }\r\n\r\n  getDataOutlet()\r\n  {\r\n    var reqHeader = new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer '+this.auth.token\r\n     });\r\n\r\n    let options = {headers: reqHeader};\r\n    this.http.post(this.global.base_url+'auth/booking/list', null, options)\r\n       .subscribe((data: any) => {\r\n         console.log(data);\r\n\r\n         if(data.status == 0)\r\n         {\r\n           this.storage.setObject('outlet',data.outlet);\r\n           this.outlet = data.outlet.filter(outlet => outlet.outlet.status === 'Active');\r\n           this.getActiveOutlet();\r\n\r\n           console.log(data);\r\n         }\r\n         else\r\n         {\r\n           console.log(data);\r\n         }\r\n\r\n         this.showContent = true;\r\n\r\n        }, error => {\r\n\r\n         console.log(error);\r\n    });\r\n  }\r\n\r\n  getActiveOutlet()\r\n  {\r\n    this.storage.getObject('outlet_active').then((data) => {\r\n      if(data != null)\r\n      {\r\n        this.activeOutlet = data;\r\n        console.log('A',data);\r\n      }\r\n      else\r\n      {\r\n        this.activeOutlet = this.outlet[0].outlet;\r\n        this.storage.setObject('outlet_active',this.activeOutlet);\r\n        console.log('B',data);\r\n      }\r\n    });\r\n  }\r\n\r\n  changeOutlet(outlet)\r\n  {\r\n    this.activeOutlet = outlet;\r\n    this.storage.setObject('outlet_active',this.activeOutlet);\r\n    this.global.toastPresent('Outlet <strong>'+outlet.name+ '</strong> aktif!');\r\n    this.initialize();\r\n    this.menu.close('orderleft');\r\n  }\r\n\r\n  syncUpOfflineData()\r\n  {\r\n    this.showContent = false;\r\n    if(this.bookingOffline.length > 0)\r\n    {\r\n      for(let orderId of this.bookingOffline)\r\n      {\r\n        var order = this.storageBooking.find(x => x.id === orderId);\r\n\r\n        var reqHeader = new HttpHeaders({\r\n            'Content-Type': 'application/json',\r\n            'Authorization': 'Bearer '+this.auth.token\r\n         });\r\n\r\n        let options = {headers: reqHeader};\r\n        this.http.post(this.global.base_url+'auth/booking/store', order, options)\r\n           .subscribe((data: any) => {\r\n             console.log(data);\r\n\r\n             if(data.status == 0)\r\n             {\r\n               var offlineIndex = this.bookingOffline.findIndex(y => y === orderId);\r\n\r\n               this.bookingOffline.splice(offlineIndex,1);\r\n               this.totalBookingOffline =  this.bookingOffline.length;\r\n               this.storage.setObject('booking_offline',this.bookingOffline);\r\n\r\n               if(this.bookingOffline.length == 0)\r\n               {\r\n                  this.global.toastPresentTop('Semua data transaksi berhasil disinkronisasi!','success');\r\n                  this.getData('online');\r\n               }\r\n\r\n               console.log(data);\r\n             }\r\n             else\r\n             {\r\n               console.log(data);\r\n             }\r\n            }, error => {\r\n              console.log(error);\r\n              this.global.toastPresentTop('<ion-icon name=\"sync-outline\" color=\"light\"></ion-icon> '+this.bookingOffline.length+' transaksi belum disinkronisasi!','danger');\r\n              this.getData('offline');\r\n            });\r\n      }\r\n    }\r\n    else\r\n    {\r\n        this.getData('online');\r\n    }\r\n\r\n  }\r\n\r\n  checkThisOrderSync(id)\r\n  {\r\n    var offlineIndex = this.bookingOffline.findIndex(y => y === id);\r\n    if(offlineIndex > -1)\r\n    {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  getData(mode)\r\n  {\r\n    if(mode == 'online')\r\n    {\r\n        this.storage.getObject('auth').then((auth) => {\r\n\r\n          var reqHeader = new HttpHeaders({\r\n              'Content-Type': 'application/json',\r\n              'Authorization': 'Bearer '+this.auth.token\r\n           });\r\n\r\n          let options = {headers: reqHeader};\r\n\r\n          let postdata = {\r\n                outlet_id: this.activeOutlet.id,\r\n                start_date: this.global.parsingDate(this.start_date),\r\n                end_date: this.global.parsingDate(this.end_date)\r\n              };\r\n\r\n          this.http.post(this.global.base_url+'auth/booking/last_per_outlet', postdata, options)\r\n             .subscribe((data: any) => {\r\n               console.log(data);\r\n\r\n               if(data.status == 0)\r\n               {\r\n                 this.booking = data.booking;\r\n                 this.bookingSearch = this.booking;\r\n                 this.storage.setObject('booking',this.booking);\r\n                 console.log(data);\r\n\r\n               }\r\n               else\r\n               {\r\n                 console.log(data);\r\n               }\r\n\r\n               this.showContent = true;\r\n\r\n              }, error => {\r\n               console.log(error);\r\n               this.booking = this.storageBooking;\r\n               this.bookingSearch = this.booking;\r\n               this.showContent = true;\r\n\r\n          });\r\n        });\r\n\r\n    }\r\n    else\r\n    {\r\n      this.booking = this.storageBooking;\r\n      this.bookingSearch = this.booking;\r\n      this.showContent = true;\r\n    }\r\n\r\n  }\r\n\r\n  detail(id)\r\n  {\r\n    let options: NativeTransitionOptions = {\r\n       direction: 'left',\r\n       duration: 300,\r\n       slowdownfactor: 0,\r\n       slidePixels: 0,\r\n       iosdelay: 0,\r\n       androiddelay: 0,\r\n       fixedPixelsTop: 0,\r\n       fixedPixelsBottom: 0\r\n      }\r\n\r\n    this.nativePageTransitions.slide(options);\r\n\r\n    this.router.navigate(['/booking-detail/'+id+'/list']);\r\n  }\r\n\r\n  async filterList(evt) {\r\n     this.bookingSearch = this.booking;\r\n\r\n    const searchTerm = evt.srcElement.value;\r\n\r\n    if (!searchTerm) {\r\n      return;\r\n    }\r\n\r\n    this.bookingSearch = this.bookingSearch.filter(current => {\r\n      if (current.book_number && searchTerm) {\r\n        return (current.book_number.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1);\r\n      }\r\n    });\r\n\r\n    console.log(this.bookingSearch);\r\n  }\r\n\r\n  async confirmLogout() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Konfirmasi',\r\n      message: 'Yakin untuk keluar dari akun Anda?   <br/> <br/> Perhatian : <br/> <span style=\"color:red\">harap lakukan sinkronisasi data order terlebih dahulu, data offline akan dihapus saat Anda keluar akun!</span>',\r\n      buttons: [\r\n        {\r\n          text: 'Sinkronkan data!',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => {\r\n            this.router.navigate(['/tabs/tab-order']);\r\n          }\r\n        }, {\r\n          text: 'Keluar',\r\n          handler: () => {\r\n            this.logout();\r\n            console.log('Confirm logout');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n  logout()\r\n  {\r\n    this.storage.clear();\r\n    this.router.navigate(['/login']);\r\n  }\r\n\r\n  openMenuLeft()\r\n  {\r\n    this.menu.enable(true, 'bookingleft');\r\n    this.menu.open('bookingleft');\r\n  }\r\n\r\n  ionViewWillLeave()\r\n  {\r\n\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { BookingPageRoutingModule } from './booking-routing.module';\r\n\r\nimport { BookingPage } from './booking.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    BookingPageRoutingModule\r\n  ],\r\n  declarations: [BookingPage]\r\n})\r\nexport class BookingPageModule {}\r\n"]}