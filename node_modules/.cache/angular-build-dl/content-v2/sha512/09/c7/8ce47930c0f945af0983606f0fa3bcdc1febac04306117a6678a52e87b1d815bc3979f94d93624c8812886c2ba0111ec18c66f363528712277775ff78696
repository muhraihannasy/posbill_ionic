{"version":3,"sources":["webpack:///src/app/payment-finish/payment-finish.module.ts","webpack:///src/app/payment-finish/payment-finish.page.scss","webpack:///src/app/payment-finish/payment-finish-routing.module.ts","webpack:///src/app/payment-finish/payment-finish.page.html","webpack:///src/app/payment-finish/payment-finish.page.ts"],"names":["PaymentFinishPageModule","imports","declarations","routes","path","component","PaymentFinishPageRoutingModule","forChild","exports","PaymentFinishPage","platform","bluetoothSerial","nativePageTransitions","isEnabled","then","response","message","enabled","console","log","a","connect","disconnect","content","connectToBluetoothPrinter","subscribe","_","write","disconnectBluetoothPrinter","err","options","direction","duration","slowdownfactor","slidePixels","iosdelay","androiddelay","fixedPixelsTop","fixedPixelsBottom","slide","selector","template"],"mappings":"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","file":"payment-finish-payment-finish-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PaymentFinishPageRoutingModule } from './payment-finish-routing.module';\r\n\r\nimport { PaymentFinishPage } from './payment-finish.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    PaymentFinishPageRoutingModule\r\n  ],\r\n  declarations: [PaymentFinishPage]\r\n})\r\nexport class PaymentFinishPageModule {}\r\n","export default \".small-item {\\n  height: 35px;\\n  margin: 0px;\\n  padding: 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXHBheW1lbnQtZmluaXNoLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQUNGIiwiZmlsZSI6InBheW1lbnQtZmluaXNoLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zbWFsbC1pdGVtIHtcclxuICBoZWlnaHQ6IDM1cHg7XHJcbiAgbWFyZ2luOiAwcHg7XHJcbiAgcGFkZGluZzogMHB4O1xyXG59XHJcbiJdfQ== */\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PaymentFinishPage } from './payment-finish.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PaymentFinishPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PaymentFinishPageRoutingModule {}\r\n","export default \"<ion-item lines=\\\"none\\\" color=\\\"success\\\">\\r\\n  <ion-icon name=\\\"checkmark-circle-outline\\\" slot=\\\"end\\\"></ion-icon>\\r\\n  Transaksi berhasil ditambahkan\\r\\n</ion-item>\\r\\n<ion-content mode=\\\"ios\\\" class=\\\"ion-padding\\\">\\r\\n\\r\\n  <ion-list>\\r\\n    <ion-item lines=\\\"none\\\"><ion-label class=\\\"ion-text-wrap\\\">No order <br/><small>25-Jan-2021 14:08</small></ion-label><ion-note slot=\\\"end\\\" color=\\\"primary\\\">210800001</ion-note></ion-item>\\r\\n    <ion-item lines=\\\"full\\\"><small>Pelanggan</small> <ion-note slot=\\\"end\\\" color=\\\"primary\\\"><small>Walk-in</small></ion-note></ion-item>\\r\\n    <ion-item lines=\\\"none\\\"><small>Hazelnut Chocolate Cheese <br/>15.000 x 2</small><ion-note slot=\\\"end\\\"><small>Rp230.000</small></ion-note></ion-item>\\r\\n    <ion-item lines=\\\"none\\\"><small>Avocado Milk Cheese <br/>15.000 x 2</small><ion-note slot=\\\"end\\\"><small>Rp230.000</small></ion-note></ion-item>\\r\\n    <ion-item lines=\\\"none\\\"><small>Caramel Latte Cheese <br/>15.000 x 2</small><ion-note slot=\\\"end\\\"><small>Rp230.000</small></ion-note></ion-item>\\r\\n    <ion-item lines=\\\"full\\\"><small>Thai Tea Cheese <br/>15.000 x 2</small><ion-note slot=\\\"end\\\"><small>Rp230.000</small></ion-note></ion-item>\\r\\n    <ion-item lines=\\\"none\\\"><small>Subtotal </small><ion-note slot=\\\"end\\\"><small>Rp230.000</small></ion-note></ion-item>\\r\\n    <ion-item lines=\\\"none\\\"><small>Diskon </small><ion-note slot=\\\"end\\\"><small>Rp230.000</small></ion-note></ion-item>\\r\\n    <ion-item lines=\\\"none\\\"><small>Service charge </small><ion-note slot=\\\"end\\\"><small>Rp230.000</small></ion-note></ion-item>\\r\\n    <ion-item lines=\\\"full\\\"><small>Pajak </small><ion-note slot=\\\"end\\\"><small>Rp230.000</small></ion-note></ion-item>\\r\\n    <ion-item lines=\\\"none\\\">Total<ion-note slot=\\\"end\\\">Rp230.000</ion-note></ion-item>\\r\\n  </ion-list>\\r\\n\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer class=\\\"ion-padding\\\" mode=\\\"ios\\\">\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col><ion-button expand=\\\"block\\\" fill=\\\"outline\\\">\\r\\n        <ion-icon name=\\\"arrow-redo-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        Kirim nota\\r\\n      </ion-button>\\r\\n      </ion-col>\\r\\n      <ion-col><ion-button expand=\\\"block\\\" (click)=\\\"printReceipt()\\\">\\r\\n        <ion-icon name=\\\"print-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        Cetak nota\\r\\n      </ion-button>\\r\\n      </ion-col>\\r\\n      <ion-col><ion-button expand=\\\"block\\\" color=\\\"light\\\" [routerLink]=\\\"['/tabs/tab1']\\\">\\r\\n        <ion-icon name=\\\"print-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        Kembali ke POS\\r\\n      </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-footer>\\r\\n\";","import { Component, OnInit } from '@angular/core';\r\nimport { ToastController, Platform } from '@ionic/angular';\r\n\r\nimport { BluetoothSerial } from '@ionic-native/bluetooth-serial/ngx';\r\n\r\nimport { NativePageTransitions, NativeTransitionOptions } from '@ionic-native/native-page-transitions/ngx';\r\n\r\n@Component({\r\n  selector: 'app-payment-finish',\r\n  templateUrl: './payment-finish.page.html',\r\n  styleUrls: ['./payment-finish.page.scss'],\r\n})\r\nexport class PaymentFinishPage implements OnInit {\r\n\r\n  constructor(\r\n    private platform: Platform,\r\n    private bluetoothSerial: BluetoothSerial,\r\n    private nativePageTransitions: NativePageTransitions\r\n  ) {\r\n    this.bluetoothSerial\r\n      .isEnabled()\r\n      .then((response) => {\r\n        const message = response.enabled ? 'enabled' : 'disabled';\r\n        console.log(`Bluetooth is ${message}`);\r\n      })\r\n      .catch(() => {\r\n        console.log('Error checking bluetooth status');\r\n      });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  connectToBluetoothPrinter()\r\n  {\r\n  //This will connect to bluetooth printer via the mac address provided\r\n    var a = this.bluetoothSerial.connect(\"0F:02:17:51:8D:85\");\r\n    console.log(a);\r\n     return a;\r\n  }\r\n\r\n  disconnectBluetoothPrinter()\r\n  {\r\n  //This will disconnect the current bluetooth connection\r\n     return this.bluetoothSerial.disconnect();\r\n  }\r\n\r\n  printReceipt()\r\n  {\r\n     //1. Try connecting to bluetooth printer\r\n\r\n\r\n     var content = \" TOKO ABC \\n\";\r\n     content += \"==============================\\n\";\r\n     content += \"No order  : 21010001\\n\";\r\n     content += \"Tanggal   : 20-01-2021 08:08\\n\";\r\n     content += \"Pelanggan : Walk-in \\n\";\r\n     content += \"------------------------------\\n\";\r\n     content += \"Chocolate Cheese \\n\";\r\n     content += \"2 x 50.000 \\n\";\r\n     content += \"Chocolate Cheese \\n\";\r\n     content += \"2 x 50.000 \\n\";\r\n     content += \"Chocolate Cheese \\n\";\r\n     content += \"2 x 50.000 \\n\";\r\n     content += \"Chocolate Cheese \\n\";\r\n     content += \"2 x 50.000 \\n\";\r\n     content += \"------------------------------\\n\";\r\n     content += \"Subtotal  : Rp320.000 \\n\";\r\n     content += \"Diskon    : Rp320.000 \\n\";\r\n     content += \"Service Ch: Rp320.000 \\n\";\r\n     content += \"Pajak     : Rp320.000 \\n\";\r\n     content += \"------------------------------\\n\";\r\n     content += \"         Terima kasih \\n\";\r\n     content += \"------------------------------\\n\";\r\n     content += \"\\n \\n \\n\";\r\n\r\n\r\n     this.connectToBluetoothPrinter()\r\n     .subscribe(_=>{\r\n        //2. Connected successfully\r\n        this.bluetoothSerial.write(content)\r\n        .then(_=>{\r\n         //3. Print successful\r\n         //If you want to tell user print is successful,\r\n         //handle it here\r\n         //4. IMPORTANT! Disconnect bluetooth after printing\r\n         console.log(_);\r\n         this.disconnectBluetoothPrinter()\r\n         },err=>{\r\n           //If there is an error printing to bluetooth printer\r\n           //handle it here\r\n           console.log(err);\r\n         })\r\n     },err=>{\r\n\r\n       //If there is an error connecting to bluetooth printer\r\n       //handle it here\r\n     })\r\n  }\r\n\r\n  ionViewWillLeave()\r\n  {\r\n    let options: NativeTransitionOptions = {\r\n       direction: 'right',\r\n       duration: 300,\r\n       slowdownfactor: 3,\r\n       slidePixels: 0,\r\n       iosdelay: 0,\r\n       androiddelay: 0,\r\n       fixedPixelsTop: 0,\r\n       fixedPixelsBottom: 0\r\n      }\r\n\r\n    this.nativePageTransitions.slide(options);\r\n  }\r\n\r\n}\r\n"]}