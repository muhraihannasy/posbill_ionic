{"version":3,"sources":["webpack:///src/app/catalog-product-add/catalog-product-add.module.ts","webpack:///src/app/catalog-product-add/catalog-product-add-routing.module.ts","webpack:///src/app/catalog-product-add/catalog-product-add.page.scss","webpack:///src/app/catalog-product-add/catalog-product-add.page.html","webpack:///src/app/catalog-product-add/catalog-product-add.page.ts"],"names":["CatalogProductAddPageModule","imports","declarations","routes","path","component","CatalogProductAddPageRoutingModule","forChild","exports","Camera","CatalogProductAddPage","router","toastCtrl","storage","http","global","navController","transfer","file","barcodeScanner","product","id","sku","category_id","name","description","cost","price","unit_id","price_type1","price_type2","price_type3","price_type4","price_type5","image","track_stock","storageProduct","unit","storageCategory","company","order_type1","order_type2","order_type3","order_type4","order_type5","order_type_label1","order_type_label2","order_type_label3","order_type_label4","order_type_label5","storageOutlet","stockOutlet","getObject","then","auth","getOfflineOutlet","getDataCategory","getDataUnit","getDataCompany","scan","barcodeData","text","console","log","err","data","outlet","filter","status","pushOutlet","item","push","enabled","stock","loadingPresent","reqHeader","token","options","headers","post","base_url","subscribe","loadingDismiss","error","category","toastPresent","postData","stock_outlet","message","navigate","getPhoto","quality","allowEditing","resultType","Uri","imageUrl","webPath","fileTransfer","create","fileKey","chunkedMode","Connection","upload","response","selector","template"],"mappings":"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","file":"catalog-product-add-catalog-product-add-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CatalogProductAddPageRoutingModule } from './catalog-product-add-routing.module';\r\n\r\nimport { CatalogProductAddPage } from './catalog-product-add.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    CatalogProductAddPageRoutingModule\r\n  ],\r\n  declarations: [CatalogProductAddPage]\r\n})\r\nexport class CatalogProductAddPageModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CatalogProductAddPage } from './catalog-product-add.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CatalogProductAddPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CatalogProductAddPageRoutingModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXRhbG9nLXByb2R1Y3QtYWRkLnBhZ2Uuc2NzcyJ9 */\";","export default \"<ion-header mode=\\\"ios\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button fill=\\\"link\\\" [routerLink]=\\\"['/catalog-product']\\\"><ion-icon name=\\\"arrow-back-outline\\\"></ion-icon></ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title color=\\\"primary\\\">Tambah produk</ion-title>\\r\\n  </ion-toolbar>\\r\\n\\r\\n</ion-header>\\r\\n<ion-content class=\\\"ion-padding\\\" mode=\\\"ios\\\">\\r\\n  <form (submit)=\\\"process()\\\">\\r\\n\\r\\n  <div *ngIf=\\\"company.package == 'Premium'\\\" (click)=\\\"takePicture()\\\" style=\\\"width:200px;height:200px;margin-left:auto;margin-right:auto;margin-bottom:20px;border-radius:5px;overflow:hidden;border:2px #ccc dashed;\\\">\\r\\n    <img src=\\\"{{product.image}}\\\" />\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"company.package == 'Lite'\\\" style=\\\"background:#f5f5f5;width:200px;height:200px;margin-left:auto;margin-right:auto;margin-bottom:20px;border-radius:5px;overflow:hidden;border:2px #ccc dashed;\\\">\\r\\n    <p class=\\\"ion-text-center\\\" style=\\\"padding:30px;padding-top:50px;font-size:12px;\\\">\\r\\n    <ion-text color=\\\"primary\\\">Fitur Upload gambar produk hanya tersedia dalam versi premium</ion-text>\\r\\n    </p>\\r\\n  </div>\\r\\n\\r\\n  <ion-item lines=\\\"inset\\\">\\r\\n    <ion-label color=\\\"primary\\\"><small>Kategori*</small></ion-label>\\r\\n    <ion-select interface=\\\"action-sheet\\\" [(ngModel)]=\\\"product.category_id\\\" name=\\\"category_id\\\">\\r\\n      <ion-select-option *ngFor=\\\"let item of category\\\" value=\\\"{{item.id}}\\\">{{item.name}}</ion-select-option>\\r\\n    </ion-select>\\r\\n  </ion-item>\\r\\n  <ion-item lines=\\\"none\\\">\\r\\n    <ion-label position=\\\"stacked\\\" color=\\\"primary\\\">SKU<br/><small>Kosongkan jika ingin terisi otomatis</small></ion-label>\\r\\n    <ion-input type=\\\"text\\\" [(ngModel)]=\\\"product.sku\\\" name=\\\"sku\\\" autocapitalize=\\\"on\\\"></ion-input>\\r\\n    <ion-button slot=\\\"end\\\" (click)=\\\"scanBarcode()\\\" color=\\\"dark\\\" size=\\\"large\\\" fill=\\\"link\\\"><ion-icon name=\\\"scan-outline\\\"></ion-icon></ion-button>\\r\\n  </ion-item>\\r\\n  <ion-item lines=\\\"none\\\">\\r\\n    <ion-label position=\\\"stacked\\\" color=\\\"primary\\\">Nama produk*</ion-label>\\r\\n    <ion-input type=\\\"text\\\" [(ngModel)]=\\\"product.name\\\" name=\\\"name\\\" autocapitalize=\\\"on\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item lines=\\\"none\\\">\\r\\n    <ion-label position=\\\"stacked\\\" color=\\\"primary\\\">Deskripsi</ion-label>\\r\\n    <ion-textarea  [(ngModel)]=\\\"product.description\\\" name=\\\"description\\\" autocapitalize=\\\"on\\\"></ion-textarea>\\r\\n  </ion-item>\\r\\n  <ion-item lines=\\\"none\\\">\\r\\n    <ion-label position=\\\"stacked\\\" color=\\\"primary\\\">Modal</ion-label>\\r\\n    <ion-input type=\\\"number\\\" [(ngModel)]=\\\"product.cost\\\" name=\\\"cost\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item lines=\\\"none\\\">\\r\\n    <ion-label position=\\\"stacked\\\" color=\\\"primary\\\">Harga*</ion-label>\\r\\n    <ion-input type=\\\"number\\\" [(ngModel)]=\\\"product.price\\\" name=\\\"price\\\" (change)=\\\"setDefaultPrice()\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item lines=\\\"inset\\\">\\r\\n    <ion-label color=\\\"primary\\\"><small>Satuan*</small></ion-label>\\r\\n    <ion-select interface=\\\"action-sheet\\\" [(ngModel)]=\\\"product.unit_id\\\" name=\\\"unit_id\\\">\\r\\n      <ion-select-option *ngFor=\\\"let item of unit\\\" value=\\\"{{item.id}}\\\">{{item.name}}</ion-select-option>\\r\\n    </ion-select>\\r\\n  </ion-item>\\r\\n\\r\\n  <br/>\\r\\n\\r\\n  <ion-item-divider>\\r\\n    Harga per tipe pesanan\\r\\n  </ion-item-divider>\\r\\n  <ion-item lines=\\\"none\\\" *ngIf=\\\"company.order_type1\\\">\\r\\n    <ion-label position=\\\"stacked\\\" color=\\\"primary\\\">{{company.order_type_label1}}</ion-label>\\r\\n    <ion-input type=\\\"number\\\" [(ngModel)]=\\\"product.price_type1\\\" name=\\\"price_type1\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item lines=\\\"none\\\" *ngIf=\\\"company.order_type2\\\">\\r\\n    <ion-label position=\\\"stacked\\\" color=\\\"primary\\\">{{company.order_type_label2}}</ion-label>\\r\\n    <ion-input type=\\\"number\\\" [(ngModel)]=\\\"product.price_type2\\\" name=\\\"price_type2\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item lines=\\\"none\\\" *ngIf=\\\"company.order_type3\\\">\\r\\n    <ion-label position=\\\"stacked\\\" color=\\\"primary\\\">{{company.order_type_label3}}</ion-label>\\r\\n    <ion-input type=\\\"number\\\" [(ngModel)]=\\\"product.price_type3\\\" name=\\\"price_type3\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item lines=\\\"none\\\" *ngIf=\\\"company.order_type4\\\">\\r\\n    <ion-label position=\\\"stacked\\\" color=\\\"primary\\\">{{company.order_type_label4}}</ion-label>\\r\\n    <ion-input type=\\\"number\\\" [(ngModel)]=\\\"product.price_type4\\\" name=\\\"price_type4\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item lines=\\\"none\\\" *ngIf=\\\"company.order_type5\\\">\\r\\n    <ion-label position=\\\"stacked\\\" color=\\\"primary\\\">{{company.order_type_label5}}</ion-label>\\r\\n    <ion-input type=\\\"number\\\" [(ngModel)]=\\\"product.price_type5\\\" name=\\\"price_type5\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <br/>\\r\\n  <ion-item-divider>\\r\\n    Ketersediaan & Inventori &nbsp; <small><ion-text color=\\\"danger\\\">Beta</ion-text></small>\\r\\n  </ion-item-divider>\\r\\n\\r\\n  <ion-item>\\r\\n    <ion-label>Aktifkan inventori </ion-label>\\r\\n    <ion-toggle [(ngModel)]=\\\"product.track_stock\\\" name=\\\"track_stock\\\"></ion-toggle>\\r\\n  </ion-item>\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <ion-item lines=\\\"none\\\">\\r\\n          <small>Outlet</small>\\r\\n        </ion-item>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"3\\\" *ngIf=\\\"product.track_stock\\\">\\r\\n        <ion-item lines=\\\"none\\\">\\r\\n          <small>Stok awal</small>\\r\\n        </ion-item>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row *ngFor=\\\"let item of stockOutlet\\\">\\r\\n      <ion-col>\\r\\n        <ion-item><ion-checkbox color=\\\"primary\\\" slot=\\\"start\\\" [(ngModel)]=\\\"item.enabled\\\"  name=\\\"outlet_enabled[]\\\"></ion-checkbox>\\r\\n          <ion-label class=\\\"ion-text-wrap\\\">{{item.name}}</ion-label>\\r\\n        </ion-item>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"3\\\" style=\\\"text-align:right;\\\" *ngIf=\\\"product.track_stock\\\"><ion-input style=\\\"border:1px solid #ccc;text-align:center;margin-top:5px;\\\" [(ngModel)]=\\\"item.stock\\\"  name=\\\"outlet_stock[]\\\" type=\\\"number\\\"></ion-input></ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n\\r\\n  </form>\\r\\n\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer class=\\\"ion-padding\\\" mode=\\\"ios\\\">\\r\\n  <ion-button expand=\\\"block\\\" (click)=\\\"process()\\\">Simpan</ion-button>\\r\\n</ion-footer>\\r\\n\";","import { Component, OnInit } from '@angular/core';import { v4 as uuidv4 } from 'uuid';\r\n\r\nimport { NavController} from '@ionic/angular';\r\nimport { ToastController } from '@ionic/angular';\r\n\r\nimport { Router } from '@angular/router';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { StorageService } from '../storage.service';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse} from \"@angular/common/http\";\r\nimport { GlobalService } from '../global.service';\r\n\r\nimport { Plugins, CameraResultType } from '@capacitor/core';\r\n\r\nconst { Camera } = Plugins;\r\n\r\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\r\nimport { File } from '@ionic-native/file/ngx';\r\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\r\n\r\n@Component({\r\n  selector: 'app-catalog-product-add',\r\n  templateUrl: './catalog-product-add.page.html',\r\n  styleUrls: ['./catalog-product-add.page.scss'],\r\n})\r\nexport class CatalogProductAddPage implements OnInit {\r\n\r\n  auth: any;\r\n  product: any = {\r\n              id:uuidv4(),\r\n              sku: '',\r\n              category_id:'',\r\n              name: '',\r\n              description: '',\r\n              cost: '',\r\n              price: '',\r\n              unit_id: '',\r\n              price_type1: '',\r\n              price_type2: '',\r\n              price_type3: '',\r\n              price_type4: '',\r\n              price_type5: '',\r\n              image:'assets/no-image.png',\r\n              track_stock: false\r\n            };\r\n\r\n  storageProduct: any = [];\r\n\r\n  unit: any = [];\r\n\r\n  category: any;\r\n  storageCategory: any = [];\r\n  company: any = {\r\n                    order_type1: 0,\r\n                    order_type2: 0,\r\n                    order_type3: 0,\r\n                    order_type4: 0,\r\n                    order_type5: 0,\r\n                    order_type_label1: '',\r\n                    order_type_label2: '',\r\n                    order_type_label3: '',\r\n                    order_type_label4: '',\r\n                    order_type_label5: '',\r\n                    package: '',\r\n                  };\r\n\r\n  outlet: any;\r\n  storageOutlet : any = [];\r\n\r\n  stockOutlet: any = [];\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private toastCtrl: ToastController,\r\n    private storage: StorageService,\r\n    private http: HttpClient,\r\n    public global: GlobalService,\r\n    public navController: NavController,\r\n    private transfer: FileTransfer,\r\n    private file: File,\r\n    private barcodeScanner: BarcodeScanner\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.storage.getObject('auth').then((auth) => {\r\n      this.auth = auth;\r\n      this.getOfflineOutlet();\r\n      this.getDataCategory();\r\n      this.getDataUnit();\r\n      this.getDataCompany();\r\n    });\r\n  }\r\n  scanBarcode()\r\n  {\r\n    this.barcodeScanner.scan().then(barcodeData => {\r\n          this.product.sku = barcodeData.text;\r\n          console.log(barcodeData);\r\n      }).catch(err => {\r\n          console.log('Error', err);\r\n      });\r\n  }\r\n\r\n  getOfflineOutlet()\r\n  {\r\n    this.storage.getObject('outlet').then((data: any) => {\r\n      if(data != null)\r\n      {\r\n        this.storageOutlet = data;\r\n        this.outlet = this.storageOutlet.filter(outlet => outlet.outlet.status === 'Active');\r\n        var pushOutlet = [];\r\n\r\n        for(let item of this.outlet)\r\n        {\r\n          pushOutlet.push({id:item.outlet.id,name:item.outlet.name,enabled:true,stock:0});\r\n        }\r\n\r\n        this.stockOutlet = pushOutlet;\r\n      }\r\n      console.log(\"Offline outlet\",data);\r\n\r\n    });\r\n  }\r\n\r\n  getDataCompany()\r\n  {\r\n    this.global.loadingPresent('mengambil data...');\r\n\r\n    var reqHeader = new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer '+this.auth.token\r\n     });\r\n\r\n    let options = {headers: reqHeader};\r\n\r\n\r\n    this.http.post(this.global.base_url+'auth/setting/data', null, options)\r\n       .subscribe((data: any) => {\r\n         console.log(data);\r\n\r\n         if(data.status == 0)\r\n         {\r\n           this.company = data.company;\r\n           console.log(data);\r\n         }\r\n         else\r\n         {\r\n           console.log(data);\r\n         }\r\n         this.global.loadingDismiss();\r\n        }, error => {\r\n         console.log(error);\r\n    });\r\n  }\r\n\r\n  getDataCategory()\r\n  {\r\n    var reqHeader = new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer '+this.auth.token\r\n     });\r\n\r\n    let options = {headers: reqHeader};\r\n\r\n    this.http.post(this.global.base_url+'auth/category/list', null, options)\r\n       .subscribe((data: any) => {\r\n         console.log(data);\r\n\r\n         if(data.status == 0)\r\n         {\r\n           this.category = data.category;\r\n           this.product.category_id = data.category[0].id;\r\n           console.log(data);\r\n         }\r\n         else\r\n         {\r\n           console.log(data);\r\n         }\r\n        }, error => {\r\n         console.log(error);\r\n    });\r\n  }\r\n\r\n  getDataUnit()\r\n  {\r\n    var reqHeader = new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer '+this.auth.token\r\n     });\r\n\r\n    let options = {headers: reqHeader};\r\n\r\n    this.http.post(this.global.base_url+'auth/unit/list', null, options)\r\n       .subscribe((data: any) => {\r\n         console.log(data);\r\n\r\n         if(data.status == 0)\r\n         {\r\n           this.unit = data.unit;\r\n           this.product.unit_id = data.unit[0].id;\r\n           console.log(data);\r\n         }\r\n         else\r\n         {\r\n           console.log(data);\r\n         }\r\n        }, error => {\r\n         console.log(error);\r\n    });\r\n  }\r\n\r\n  process()\r\n  {\r\n    if((this.product.name == '') || (this.product.category_id == '') || (this.product.price < 1))\r\n    {\r\n      this.global.toastPresent('Mohon lengkapi form yang wajib diisi!');\r\n      return false;\r\n    }\r\n\r\n    this.global.loadingPresent('menambah produk...');\r\n    this.storage.getObject('auth').then((auth) => {\r\n\r\n      var reqHeader = new HttpHeaders({\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer '+this.auth.token\r\n       });\r\n\r\n      let options = {headers: reqHeader};\r\n\r\n      let postData = {\r\n                  sku: this.product.sku,\r\n                  name: this.product.name,\r\n                  category_id:this.product.category_id,\r\n                  description: this.product.description,\r\n                  cost: this.product.cost,\r\n                  price: this.product.price,\r\n                  unit_id: this.product.unit_id,\r\n                  image: this.product.image,\r\n                  track_stock: this.product.track_stock,\r\n                  price_type1: this.product.price_type1,\r\n                  price_type2: this.product.price_type2,\r\n                  price_type3: this.product.price_type3,\r\n                  price_type4: this.product.price_type4,\r\n                  price_type5: this.product.price_type5,\r\n                  stock_outlet: this.stockOutlet\r\n                };\r\n\r\n      this.http.post(this.global.base_url+'auth/product/add', postData, options)\r\n         .subscribe((data: any) => {\r\n           console.log(data);\r\n\r\n           if(data.status == 0)\r\n           {\r\n             this.global.toastPresent(data.message);\r\n             this.router.navigate(['/catalog-product']);\r\n           }\r\n           else\r\n           {\r\n             console.log(data);\r\n           }\r\n           this.global.loadingDismiss();\r\n          }, error => {\r\n           console.log(error);\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  async takePicture() {\r\n      const image = await Camera.getPhoto({\r\n        quality: 90,\r\n        allowEditing: false,\r\n        resultType: CameraResultType.Uri\r\n      });\r\n      // image.webPath will contain a path that can be set as an image src.\r\n      // You can access the original file using image.path, which can be\r\n      // passed to the Filesystem API to read the raw data of the image,\r\n      // if desired (or pass resultType: CameraResultType.Base64 to getPhoto)\r\n      let imageUrl:any = image.webPath;\r\n      // Can be set to the src of an image now\r\n      this.product.image = imageUrl;\r\n\r\n      const fileTransfer: FileTransferObject = this.transfer.create();\r\n\r\n      let options: FileUploadOptions = {\r\n         fileKey: 'image',\r\n         chunkedMode: false,\r\n         headers:{Connection: 'close'}\r\n      }\r\n\r\n      this.global.loadingPresent('Mengupload file...');\r\n      fileTransfer.upload(image.path, this.global.base_url+'auth/product/upload', options)\r\n       .then((data) => {\r\n         // success\r\n         this.global.loadingDismiss();\r\n         this.product.image = data.response;\r\n         console.log(data);\r\n       }, (err) => {\r\n         // error\r\n         console.log(err);\r\n     })\r\n\r\n    }\r\n\r\n    setDefaultPrice()\r\n    {\r\n      this.product.price_type1 = this.product.price;\r\n      this.product.price_type2 = this.product.price;\r\n      this.product.price_type3 = this.product.price;\r\n      this.product.price_type4 = this.product.price;\r\n      this.product.price_type5 = this.product.price;\r\n    }\r\n}\r\n"]}